'use strict';

(function (root) {

	// Инициализация прилдожения
	var windowWidth = $(window).width();

	function init() {

		if ($('.gallery').get(0)) {
			$('.gallery__element').first().trigger('click');
		}

		$('[data-tabs]').each(function (i, tabs) {
			$(tabs).children().first().trigger('click');
		});

		$('.toggle_close').each(function (i, toggle) {
			var data = $(this).data('toggle');

			$(this).parent().find('.' + data).hide();
		});
	};

	$(window).on('resize', function () {
		windowWidth = $(window).width();

		if (windowWidth <= 960 && $('.container__side-scroll').parent().hasClass('sticky-wrapper')) {
			$('.container__side-scroll').unstick();
		} else if (windowWidth > 960 && $('.container__side-scroll').get(0) && !$('.container__side-scroll').parent().hasClass('sticky-wrapper')) {
			stickySide();
		}
	});

	// Слайдеры
	var dataSliders = {
		feautures: {
			items: 6,
			nav: true
		},
		gallery: {
			items: 1,
			nav: true,
			dots: true,
			mouseDrag: false,
			responsive: {
				961: {
					items: 4,
					dots: false
				}
			}
		},
		promo: {
			items: 1,
			dots: true,
			loop: true,
			autoplay: true
		},
		shop: {
			items: 1,
			loop: true,
			nav: false,
			center: false,
			responsive: {
				680: {
					items: 3,
					center: true,
					nav: true
				}
			}
		}
	};

	$('[data-slider]').each(function (i, slider) {
		var data = $(this).data('slider');

		$(slider).owlCarousel(dataSliders[data]);
	});

	$('.range__slider').each(function () {
		var range = this,
		    minInput = $(range).closest('.range').find('[data-input="min"]'),
		    maxInput = $(range).closest('.range').find('[data-input="max"]');

		function update() {
			var from = $(range).data('from'),
			    to = $(range).data('to');

			$(minInput).val(from);
			$(maxInput).val(to);
		}

		$(range).ionRangeSlider({
			extra_classes: 'range__slider',
			hide_min_max: true,
			hide_from_to: true
		});

		update();
		$(range).on('change', update);
	});

	$('[data-input]').on('change', function () {
		var range = $(this).closest('.range').find('input.range__slider').data("ionRangeSlider"),
		    val = $(this).val(),
		    min = range.options.min,
		    max = range.options.max,
		    from = range.options.from,
		    to = range.options.to,
		    step = range.options.step;

		switch ($(this).data('input')) {
			case 'min':
				if (val <= min) {
					val = min;
				} else if (val >= max) {
					val = max - step;
				} else if (val >= to) {
					val = to - step;
				}

				range.update({
					from: val
				});
				break;
			case 'max':
				if (val >= max) {
					val = max;
				} else if (val <= min) {
					val = min + step;
				} else if (val <= from) {
					val = from + step;
				}

				range.update({
					to: val
				});
				break;
		}

		$(this).val(val);
	});

	// fields
	function filled(field) {
		var val = $(field).val().trim();

		if (val.length > 0) {
			$(field).closest('.field').addClass('field_filled');
		} else {
			$(field).closest('.field').removeClass('field_filled');
		}
	}

	$('.field input, .field textarea').each(function () {
		filled(this);
	});

	$(document).on('keydown', '.field input, .field textarea', function () {
		var t = this;
		setTimeout(function () {
			filled(t);
		}, 100);
	});

	$('.toggle').on('click', function (e) {
		e.stopPropagation();
		var content = $(this).parent().find($('.' + $(this).data('toggle')));
		$(this).toggleClass('toggle_close');
		$(content).stop().slideToggle(300);
	});

	$('.filter__block-content').each(function (i, block) {
		var checks = $(block).find('.checkbox').length;

		if (checks > 5) {
			$(block).addClass('filter__block-content_more');
			$(block).append('<span class="filter__block-more">Показать все</span>');
		}
	});

	$('.filter__block-more').on('click', function () {
		$(this).parent().removeClass('filter__block-content_more');
		$(this).remove();
	});

	$('.drop__item').on('click', function () {
		if (!$(this).hasClass('drop__item_link')) {
			$(this).addClass('drop__item_active').siblings().removeClass('drop__item_active');
		}

		$(this).closest('[data-drop]').removeClass('drop-open');
	});

	$(document).on('click', '[data-drop]', function () {

		var data = $(this).data('drop');

		if (data == 'trigger') {
			$('.drop-open').removeClass('drop-open');
			$(this).parent().closest('[data-drop]').addClass('drop-open');
		} else return;
	});

	$(document).on('click', function (e) {

		var drop = $(e.target).parent().closest('[data-drop]').get(0),
		    tip = $(e.target).parent().closest('.tip').get(0);

		if ($(e.target).hasClass('counter__btn_plus')) return;

		if (!drop) {
			$('.drop-open').removeClass('drop-open');
		}

		if (!tip) {
			$('.tip__hidecontent').hide();
			$('.container__main').css('z-index', '');
		}
	});

	$('.description__show').on('click', function () {
		$(this).hide();
		$('.description__short').hide();
		$('.description__all').show();
	});

	$('[data-close]').on('click', function (e) {
		e.preventDefault();

		$(this).parent().hide();
		$(this).closest('.card').css('z-index', '');
	});

	$('.tip__name').on('click', function () {
		$('.tip').css('z-index', '');
		$('.container__main').css('z-index', '3');
		$('.card').css('z-index', '');
		$('.tip__hidecontent').hide();
		$(this).parent().find('.tip__hidecontent').show();
		$(this).closest('.card').css('z-index', '2');
		$(this).closest('.tip').css('z-index', '9');
	});

	$('.tip_hover').hover(function () {
		$(this).find('.tip__hidecontent').show();
	}, function () {
		$('.tip__hidecontent').hide();
	});

	// Gallery
	$('.gallery__element').on('click', function () {

		if ($(this).hasClass('gallery__element_video')) {
			var video = $(this).find('video').clone();

			$('.modal_zoom .modal__content').html(video);

			$('.modal_zoom').iziModal('open');
		} else {
			var img = $(this).find('img').clone();

			$(this).closest('.gallery').find('.gallery__view').empty().append(img);

			$(this).closest('.gallery__list').find('.gallery__element_active').removeClass('gallery__element_active');
			$(this).addClass('gallery__element_active');

			$('.gallery__view img').magnify();
		}
	});

	$('.vlist_full').each(function (i, list) {
		var show = $(list).data('show'),
		    line = $(list).find('.vlist__line:not(.vlist__line_head)').get(show);

		$(line).hide().nextAll(':not(.vlist__line_more)').hide();
	});

	$('.vlist__more').on('click', function () {
		$(this).closest('.vlist').toggleClass('vlist_allshow');
	});

	// Modal

	setTimeout(function () {
		$('[data-modal]').iziModal({
			onClosing: function onClosing(r) {
				var video = r.$element.find('video').get(0);

				if (video) {
					video.pause();
				}
			}
		});
	}, 1);

	$('[data-open]').on('click', function (e) {
		e.preventDefault();

		var m = $(this).data('open');
		$('[data-modal=' + m + ']').iziModal('open');
	});

	$('.gallery__view, .shop__slide').on('click', function () {
		var img = $(this).find('img').clone();

		$('.modal_zoom .modal__content').html(img);

		$('.modal_zoom').iziModal('open');
	});

	$('.filter-toggle').on('click', function () {
		$('.filter .toggle:not(.toggle_close)').trigger('click');
		$('.filter').toggle();
	});

	$('.m-menu__toggle').on('click', function () {
		if (!$('.page').hasClass('page_freeze')) {
			var h = $('.m-menu__content').height();
			$('.page').addClass('page_freeze').css('height', h + 'px');
			$('html,body').css('overflow-x', 'hidden');
		} else {
			$('.page').removeClass('page_freeze').css('height', '');
			$('html,body').css('overflow', '');
		};

		$(window).scrollTop(0);

		$('.m-menu__content').toggle();
	});

	$('.m-menu__item_drop').on('click', function (e) {
		e.stopPropagation();

		var drop = $(this).find('.m-menu__drop').first(),
		    catalog = Boolean($(this).closest('.m-menu__drop_catalog').get(0)) || Boolean($(this).find('.m-menu__drop_catalog').get(0));

		if ($(e.target).parentsUntil('.m-menu__item_drop').length <= 1) {
			$(drop).toggleClass('m-menu__drop_show');

			if (!catalog) {
				var h = $('.m-menu__content').height();
				$('.page').css('height', h);
				return;
			}

			if ($(drop).hasClass('m-menu__drop_show')) {
				var _h = $(drop).find('.m-menu__list').first().height();
				$('.page').css('height', _h);
			} else {
				var _h2 = $(this).closest('.m-menu__list').height();
				$('.page').css('height', _h2);
			}
		}
	});

	$('.m-menu__back').on('click', function (e) {
		e.stopPropagation();

		$(this).closest('.m-menu__drop_show').removeClass('m-menu__drop_show');

		var h = $('.m-menu__content').height();
		$('.page').css('height', h);
		return;
	});

	$('[data-tabs] > *').on('click', function (e) {
		e.preventDefault();

		var data = $(this).parent().data('tabs'),
		    index = $(this).index(),
		    content = $('[data-tabs-content=' + data + ']').children().get(index);

		$(content).show().siblings().hide();

		if (!content) {
			$('[data-tabs-content=' + data + ']').children().hide();
		}

		$(this).addClass('active').siblings().removeClass('active');
	});

	$('.video').on('click', function () {
		var id = $(this).data('id');

		$('#' + id).iziModal('open');
	});

	$('.checkbox input').on('click', function (e) {
		e.stopPropagation();

		$(this).closest('.checkbox').toggleClass('checkbox_active');
	});

	var scrolling,
	    toTop = document.querySelector('.to-top');

	document.addEventListener('scroll', function (e) {
		scrolling = (window.pageYOffset || document.body.scrollTop) - (document.body.clientTop || 0);

		if ($(e.target).closest('.results').get(0)) return;

		if ($(window).width() > 960) {
			if (scrolling >= 200) {
				$('.header__fix').addClass('header__fix_show');
				$('.results').appendTo('.header__fix .search');
			} else if ($('.header__fix').hasClass('header__fix_show')) {
				$('.header__fix').removeClass('header__fix_show');
				$('.results').appendTo('.header__body .search');
			}
		} else {
			if (scrolling >= 31 && !$('.page').hasClass('page_freeze')) {
				$('.header__mobile').addClass('header__mobile_fix');
			} else if ($('.header__mobile').hasClass('header__mobile_fix')) {
				$('.header__mobile').removeClass('header__mobile_fix');
			}
		}

		if (scrolling >= 1000 && windowWidth > 960) {
			toTop.classList.add('to-top_show');
		} else {
			toTop.classList.remove('to-top_show');
		}
	}, true);

	$('.to-top').on('click', function () {
		$("html, body").stop().animate({ scrollTop: 0 }, 500, 'swing');
	});

	$('.counter__btn_plus').on('click', function (e) {
		e.preventDefault();

		$('.card').css('z-index', '');

		$('.tip__hidecontent').hide();
		$('.tip').css('z-index', '');
		$(this).parent().find('.tip__hidecontent').first().show();
		$(this).closest('.card').css('z-index', '5');
		$(this).parent().find('.tip').css('z-index', '9');

		if ($('.container__side').get(0)) {
			$('.container__main').css('z-index', '3');
		}
	});

	// search
	$('.search__field input').focus(function () {
		$(this).closest('.search').addClass('search_focus');
		$('.page').append('<div class="fade-bg"></div>');
	});

	$('.search__field input').focusout(function (e) {
		$(this).closest('.search').removeClass('search_focus');
		$('.fade-bg').remove();
	});

	$('button.btn, .counter__btn, .close').on('click', function (e) {
		e.preventDefault();
	});

	$('a[href^="#"]').on('click', function (e) {
		e.preventDefault();
		var id = $(this).attr('href');

		$('html, body').animate({
			scrollTop: $(id).offset().top + $('body').scrollTop() - 80
		}, 1000);
	});

	$('.drop .close').on('click', function () {
		$(this).closest('.drop-open').removeClass('drop-open');
	});

	var heightBottomScroll = 0;

	$('.page__content').nextAll().each(function (i, el) {
		heightBottomScroll += $(el).height();
	});

	// sticky cart side

	function stickySide() {
		$('.container__side-scroll').sticky({
			topSpacing: 80,
			bottomSpacing: $('.footer').height() + $('.container__side-scroll').offset().top
		});
	}

	if (windowWidth > 960 && $('.container__side-scroll').get(0)) stickySide();

	init();
})(window);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNjcmlwdC5qcyJdLCJuYW1lcyI6WyJyb290Iiwid2luZG93V2lkdGgiLCIkIiwid2luZG93Iiwid2lkdGgiLCJpbml0IiwiZ2V0IiwiZmlyc3QiLCJ0cmlnZ2VyIiwiZWFjaCIsImkiLCJ0YWJzIiwiY2hpbGRyZW4iLCJ0b2dnbGUiLCJkYXRhIiwicGFyZW50IiwiZmluZCIsImhpZGUiLCJvbiIsImhhc0NsYXNzIiwidW5zdGljayIsInN0aWNreVNpZGUiLCJkYXRhU2xpZGVycyIsImZlYXV0dXJlcyIsIml0ZW1zIiwibmF2IiwiZ2FsbGVyeSIsImRvdHMiLCJtb3VzZURyYWciLCJyZXNwb25zaXZlIiwicHJvbW8iLCJsb29wIiwiYXV0b3BsYXkiLCJzaG9wIiwiY2VudGVyIiwic2xpZGVyIiwib3dsQ2Fyb3VzZWwiLCJyYW5nZSIsIm1pbklucHV0IiwiY2xvc2VzdCIsIm1heElucHV0IiwidXBkYXRlIiwiZnJvbSIsInRvIiwidmFsIiwiaW9uUmFuZ2VTbGlkZXIiLCJleHRyYV9jbGFzc2VzIiwiaGlkZV9taW5fbWF4IiwiaGlkZV9mcm9tX3RvIiwibWluIiwib3B0aW9ucyIsIm1heCIsInN0ZXAiLCJmaWxsZWQiLCJmaWVsZCIsInRyaW0iLCJsZW5ndGgiLCJhZGRDbGFzcyIsInJlbW92ZUNsYXNzIiwiZG9jdW1lbnQiLCJ0Iiwic2V0VGltZW91dCIsImUiLCJzdG9wUHJvcGFnYXRpb24iLCJjb250ZW50IiwidG9nZ2xlQ2xhc3MiLCJzdG9wIiwic2xpZGVUb2dnbGUiLCJibG9jayIsImNoZWNrcyIsImFwcGVuZCIsInJlbW92ZSIsInNpYmxpbmdzIiwiZHJvcCIsInRhcmdldCIsInRpcCIsImNzcyIsInNob3ciLCJwcmV2ZW50RGVmYXVsdCIsImhvdmVyIiwidmlkZW8iLCJjbG9uZSIsImh0bWwiLCJpemlNb2RhbCIsImltZyIsImVtcHR5IiwibWFnbmlmeSIsImxpc3QiLCJsaW5lIiwibmV4dEFsbCIsIm9uQ2xvc2luZyIsInIiLCIkZWxlbWVudCIsInBhdXNlIiwibSIsImgiLCJoZWlnaHQiLCJzY3JvbGxUb3AiLCJjYXRhbG9nIiwiQm9vbGVhbiIsInBhcmVudHNVbnRpbCIsImluZGV4IiwiaWQiLCJzY3JvbGxpbmciLCJ0b1RvcCIsInF1ZXJ5U2VsZWN0b3IiLCJhZGRFdmVudExpc3RlbmVyIiwicGFnZVlPZmZzZXQiLCJib2R5IiwiY2xpZW50VG9wIiwiYXBwZW5kVG8iLCJjbGFzc0xpc3QiLCJhZGQiLCJhbmltYXRlIiwiZm9jdXMiLCJmb2N1c291dCIsImF0dHIiLCJvZmZzZXQiLCJ0b3AiLCJoZWlnaHRCb3R0b21TY3JvbGwiLCJlbCIsInN0aWNreSIsInRvcFNwYWNpbmciLCJib3R0b21TcGFjaW5nIl0sIm1hcHBpbmdzIjoiOztBQUFBLENBQUMsVUFBU0EsSUFBVCxFQUFlOztBQUVmO0FBQ0EsS0FBSUMsY0FBY0MsRUFBRUMsTUFBRixFQUFVQyxLQUFWLEVBQWxCOztBQUVBLFVBQVNDLElBQVQsR0FBZ0I7O0FBRWYsTUFBSUgsRUFBRSxVQUFGLEVBQWNJLEdBQWQsQ0FBa0IsQ0FBbEIsQ0FBSixFQUEwQjtBQUN6QkosS0FBRSxtQkFBRixFQUF1QkssS0FBdkIsR0FBK0JDLE9BQS9CLENBQXVDLE9BQXZDO0FBQ0E7O0FBRUROLElBQUUsYUFBRixFQUFpQk8sSUFBakIsQ0FBc0IsVUFBU0MsQ0FBVCxFQUFZQyxJQUFaLEVBQWtCO0FBQ3ZDVCxLQUFFUyxJQUFGLEVBQVFDLFFBQVIsR0FBbUJMLEtBQW5CLEdBQTJCQyxPQUEzQixDQUFtQyxPQUFuQztBQUNBLEdBRkQ7O0FBSUFOLElBQUUsZUFBRixFQUFtQk8sSUFBbkIsQ0FBd0IsVUFBU0MsQ0FBVCxFQUFZRyxNQUFaLEVBQW9CO0FBQzNDLE9BQUlDLE9BQU9aLEVBQUUsSUFBRixFQUFRWSxJQUFSLENBQWEsUUFBYixDQUFYOztBQUVBWixLQUFFLElBQUYsRUFBUWEsTUFBUixHQUFpQkMsSUFBakIsQ0FBc0IsTUFBSUYsSUFBMUIsRUFBZ0NHLElBQWhDO0FBQ0EsR0FKRDtBQUtBOztBQUVE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QUFNeEIsTUFBTixFQUF0QjtBQUNBLEVBRkQ7O0FBSUE7O0FBRUEsVUFBUzNFLFVBQVQsR0FBc0I7QUFDckJuQixJQUFFLHlCQUFGLEVBQTZCdUgsTUFBN0IsQ0FBb0M7QUFDbkNDLGVBQVksRUFEdUI7QUFFbkNDLGtCQUFlekgsRUFBRSxTQUFGLEVBQWE4RixNQUFiLEtBQXdCOUYsRUFBRSx5QkFBRixFQUE2Qm1ILE1BQTdCLEdBQXNDQztBQUYxQyxHQUFwQztBQUlBOztBQUVELEtBQUlySCxjQUFjLEdBQWQsSUFBcUJDLEVBQUUseUJBQUYsRUFBNkJJLEdBQTdCLENBQWlDLENBQWpDLENBQXpCLEVBQThEZTs7QUFFOURoQjtBQUdBLENBemZELEVBeWZHRixNQXpmSCIsImZpbGUiOiJzY3JpcHQuanMiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24ocm9vdCkge1xuXG5cdC8vINCY0L3QuNGG0LjQsNC70LjQt9Cw0YbQuNGPINC/0YDQuNC70LTQvtC20LXQvdC40Y9cblx0dmFyIHdpbmRvd1dpZHRoID0gJCh3aW5kb3cpLndpZHRoKCk7XG5cblx0ZnVuY3Rpb24gaW5pdCgpIHtcblxuXHRcdGlmICgkKCcuZ2FsbGVyeScpLmdldCgwKSkge1xuXHRcdFx0JCgnLmdhbGxlcnlfX2VsZW1lbnQnKS5maXJzdCgpLnRyaWdnZXIoJ2NsaWNrJyk7XG5cdFx0fVxuXG5cdFx0JCgnW2RhdGEtdGFic10nKS5lYWNoKGZ1bmN0aW9uKGksIHRhYnMpIHtcblx0XHRcdCQodGFicykuY2hpbGRyZW4oKS5maXJzdCgpLnRyaWdnZXIoJ2NsaWNrJyk7XG5cdFx0fSk7XG5cblx0XHQkKCcudG9nZ2xlX2Nsb3NlJykuZWFjaChmdW5jdGlvbihpLCB0b2dnbGUpIHtcblx0XHRcdHZhciBkYXRhID0gJCh0aGlzKS5kYXRhKCd0b2dnbGUnKTtcblxuXHRcdFx0JCh0aGlzKS5wYXJlbnQoKS5maW5kKCcuJytkYXRhKS5oaWRlKCk7XG5cdFx0fSk7XG5cdH07XG5cblx0JCh3aW5kb3cpLm9uKCdyZXNpemUnLCBmdW5jdGlvbigpIHtcblx0XHR3aW5kb3dXaWR0aCA9ICQod2luZG93KS53aWR0aCgpO1xuXG5cdFx0aWYgKHdpbmRvd1dpZHRoIDw9IDk2MCAmJiAkKCcuY29udGFpbmVyX19zaWRlLXNjcm9sbCcpLnBhcmVudCgpLmhhc0NsYXNzKCdzdGlja3ktd3JhcHBlcicpKSB7XG5cdFx0XHQkKCcuY29udGFpbmVyX19zaWRlLXNjcm9sbCcpLnVuc3RpY2soKTtcblx0XHR9IGVsc2UgaWYgKHdpbmRvd1dpZHRoID4gOTYwICYmICQoJy5jb250YWluZXJfX3NpZGUtc2Nyb2xsJykuZ2V0KDApICYmICEkKCcuY29udGFpbmVyX19zaWRlLXNjcm9sbCcpLnBhcmVudCgpLmhhc0NsYXNzKCdzdGlja3ktd3JhcHBlcicpKSB7XG5cdFx0XHRzdGlja3lTaWRlKCk7XG5cdFx0fVxuXHR9KTtcblxuXHQvLyDQodC70LDQudC00LXRgNGLXG5cdHZhciBkYXRhU2xpZGVycyA9IHtcblx0XHRmZWF1dHVyZXM6IHtcblx0XHRcdGl0ZW1zOiA2LFxuXHRcdFx0bmF2OiB0cnVlXG5cdFx0fSxcblx0XHRnYWxsZXJ5OiB7XG5cdFx0XHRpdGVtczogMSxcblx0XHRcdG5hdjogdHJ1ZSxcblx0XHRcdGRvdHM6IHRydWUsXG5cdFx0XHRtb3VzZURyYWc6IGZhbHNlLFxuXHRcdFx0cmVzcG9uc2l2ZToge1xuXHRcdFx0XHQ5NjE6IHtcblx0XHRcdFx0XHRpdGVtczogNCxcblx0XHRcdFx0XHRkb3RzOiBmYWxzZVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSxcblx0XHRwcm9tbzoge1xuXHRcdFx0aXRlbXM6IDEsXG5cdFx0XHRkb3RzOiB0cnVlLFxuXHRcdFx0bG9vcDogdHJ1ZSxcblx0XHRcdGF1dG9wbGF5OiB0cnVlLFxuXHRcdH0sXG5cdFx0c2hvcDoge1xuXHRcdFx0aXRlbXM6IDEsXG5cdFx0XHRsb29wOiB0cnVlLFxuXHRcdFx0bmF2OiBmYWxzZSxcblx0XHRcdGNlbnRlcjogZmFsc2UsXG5cdFx0XHRyZXNwb25zaXZlOiB7XG5cdFx0XHRcdDY4MDoge1xuXHRcdFx0XHRcdGl0ZW1zOiAzLFxuXHRcdFx0XHRcdGNlbnRlcjogdHJ1ZSxcblx0XHRcdFx0XHRuYXY6IHRydWUsXG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHQkKCdbZGF0YS1zbGlkZXJdJykuZWFjaChmdW5jdGlvbihpLCBzbGlkZXIpIHtcblx0XHR2YXIgZGF0YSA9ICQodGhpcykuZGF0YSgnc2xpZGVyJyk7XG5cblx0XHQkKHNsaWRlcikub3dsQ2Fyb3VzZWwoZGF0YVNsaWRlcnNbZGF0YV0pXG5cdH0pO1xuXG5cdCQoJy5yYW5nZV9fc2xpZGVyJykuZWFjaChmdW5jdGlvbigpIHtcblx0XHR2YXIgcmFuZ2UgPSB0aGlzLFxuXHRcdFx0XHRtaW5JbnB1dCA9ICQocmFuZ2UpLmNsb3Nlc3QoJy5yYW5nZScpLmZpbmQoJ1tkYXRhLWlucHV0PVwibWluXCJdJyksXG5cdFx0XHRcdG1heElucHV0ID0gJChyYW5nZSkuY2xvc2VzdCgnLnJhbmdlJykuZmluZCgnW2RhdGEtaW5wdXQ9XCJtYXhcIl0nKTtcblxuXHRcdGZ1bmN0aW9uIHVwZGF0ZSgpIHtcblx0XHRcdHZhciBmcm9tID0gJChyYW5nZSkuZGF0YSgnZnJvbScpLFxuXHRcdFx0XHRcdHRvID0gJChyYW5nZSkuZGF0YSgndG8nKTtcblxuXHRcdFx0JChtaW5JbnB1dCkudmFsKGZyb20pO1xuXHRcdFx0JChtYXhJbnB1dCkudmFsKHRvKTtcblx0XHR9XG5cblx0XHQkKHJhbmdlKS5pb25SYW5nZVNsaWRlcih7XG5cdFx0XHRleHRyYV9jbGFzc2VzOiAncmFuZ2VfX3NsaWRlcicsXG5cdFx0XHRoaWRlX21pbl9tYXg6IHRydWUsXG5cdFx0XHRoaWRlX2Zyb21fdG86IHRydWUsXG5cdFx0fSk7XG5cblx0XHR1cGRhdGUoKTtcblx0XHQkKHJhbmdlKS5vbignY2hhbmdlJywgdXBkYXRlKTtcblx0fSk7XG5cblx0JCgnW2RhdGEtaW5wdXRdJykub24oJ2NoYW5nZScsIGZ1bmN0aW9uKCkge1xuXHRcdHZhciByYW5nZSA9ICQodGhpcykuY2xvc2VzdCgnLnJhbmdlJykuZmluZCgnaW5wdXQucmFuZ2VfX3NsaWRlcicpLmRhdGEoXCJpb25SYW5nZVNsaWRlclwiKSxcblx0XHRcdFx0dmFsID0gJCh0aGlzKS52YWwoKSxcblx0XHRcdFx0bWluID0gcmFuZ2Uub3B0aW9ucy5taW4sXG5cdFx0XHRcdG1heCA9IHJhbmdlLm9wdGlvbnMubWF4LFxuXHRcdFx0XHRmcm9tID0gcmFuZ2Uub3B0aW9ucy5mcm9tLFxuXHRcdFx0XHR0byA9IHJhbmdlLm9wdGlvbnMudG8sXG5cdFx0XHRcdHN0ZXAgPSByYW5nZS5vcHRpb25zLnN0ZXA7XG5cblx0XHRzd2l0Y2ggKCQodGhpcykuZGF0YSgnaW5wdXQnKSkge1xuXHRcdFx0Y2FzZSAnbWluJzpcblx0XHRcdFx0aWYgKHZhbCA8PSBtaW4pIHtcblx0XHRcdFx0XHR2YWwgPSBtaW47XG5cdFx0XHRcdH0gZWxzZSBpZiAodmFsID49IG1heCkge1xuXHRcdFx0XHRcdHZhbCA9IG1heCAtIHN0ZXA7XG5cdFx0XHRcdH0gZWxzZSBpZiAodmFsID49IHRvKSB7XG5cdFx0XHRcdFx0dmFsID0gdG8gLSBzdGVwO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0cmFuZ2UudXBkYXRlKHtcblx0XHRcdFx0XHRmcm9tOiB2YWxcblx0XHRcdFx0fSk7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0Y2FzZSAnbWF4Jzpcblx0XHRcdFx0aWYgKHZhbCA+PSBtYXgpIHtcblx0XHRcdFx0XHR2YWwgPSBtYXg7XG5cdFx0XHRcdH0gZWxzZSBpZiAodmFsIDw9IG1pbikge1xuXHRcdFx0XHRcdHZhbCA9IG1pbiArIHN0ZXA7XG5cdFx0XHRcdH0gZWxzZSBpZiAodmFsIDw9IGZyb20pIHtcblx0XHRcdFx0XHR2YWwgPSBmcm9tICsgc3RlcDtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJhbmdlLnVwZGF0ZSh7XG5cdFx0XHRcdFx0dG86IHZhbFxuXHRcdFx0XHR9KTtcblx0XHRcdFx0YnJlYWs7XG5cdFx0fVxuXG5cdFx0JCh0aGlzKS52YWwodmFsKTtcblxuXHR9KTtcblxuXHQvLyBmaWVsZHNcblx0ZnVuY3Rpb24gZmlsbGVkKGZpZWxkKSB7XG5cdFx0dmFyIHZhbCA9ICQoZmllbGQpLnZhbCgpLnRyaW0oKTtcblxuXHRcdGlmICh2YWwubGVuZ3RoID4gMCkge1xuXHRcdFx0JChmaWVsZCkuY2xvc2VzdCgnLmZpZWxkJykuYWRkQ2xhc3MoJ2ZpZWxkX2ZpbGxlZCcpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHQkKGZpZWxkKS5jbG9zZXN0KCcuZmllbGQnKS5yZW1vdmVDbGFzcygnZmllbGRfZmlsbGVkJyk7XG5cdFx0fVxuXHR9XG5cblx0JCgnLmZpZWxkIGlucHV0LCAuZmllbGQgdGV4dGFyZWEnKS5lYWNoKGZ1bmN0aW9uKCkge1xuXHRcdGZpbGxlZCh0aGlzKTtcblx0fSk7XG5cblx0JChkb2N1bWVudCkub24oJ2tleWRvd24nLCAnLmZpZWxkIGlucHV0LCAuZmllbGQgdGV4dGFyZWEnLCBmdW5jdGlvbigpIHtcblx0XHR2YXIgdCA9IHRoaXM7XG5cdFx0c2V0VGltZW91dChmdW5jdGlvbigpIHtcblx0XHRcdGZpbGxlZCh0KTtcblx0XHR9LCAxMDApXG5cdH0pO1xuXG5cblx0JCgnLnRvZ2dsZScpLm9uKCdjbGljaycsIGZ1bmN0aW9uKGUpIHtcblx0XHRlLnN0b3BQcm9wYWdhdGlvbigpXG5cdFx0dmFyIGNvbnRlbnQgPSAkKHRoaXMpLnBhcmVudCgpLmZpbmQoJCgnLicrJCh0aGlzKS5kYXRhKCd0b2dnbGUnKSkpO1xuXHRcdCQodGhpcykudG9nZ2xlQ2xhc3MoJ3RvZ2dsZV9jbG9zZScpO1xuXHRcdCQoY29udGVudCkuc3RvcCgpLnNsaWRlVG9nZ2xlKDMwMCk7XG5cdH0pO1xuXG5cdCQoJy5maWx0ZXJfX2Jsb2NrLWNvbnRlbnQnKS5lYWNoKGZ1bmN0aW9uKGksIGJsb2NrKSB7XG5cdFx0dmFyIGNoZWNrcyA9ICQoYmxvY2spLmZpbmQoJy5jaGVja2JveCcpLmxlbmd0aDtcblxuXHRcdGlmIChjaGVja3MgPiA1KSB7XG5cdFx0XHQkKGJsb2NrKS5hZGRDbGFzcygnZmlsdGVyX19ibG9jay1jb250ZW50X21vcmUnKTtcblx0XHRcdCQoYmxvY2spLmFwcGVuZCgnPHNwYW4gY2xhc3M9XCJmaWx0ZXJfX2Jsb2NrLW1vcmVcIj7Qn9C+0LrQsNC30LDRgtGMINCy0YHQtTwvc3Bhbj4nKTtcblx0XHR9XG5cdH0pO1xuXG5cdCQoJy5maWx0ZXJfX2Jsb2NrLW1vcmUnKS5vbignY2xpY2snLCBmdW5jdGlvbigpIHtcblx0XHQkKHRoaXMpLnBhcmVudCgpLnJlbW92ZUNsYXNzKCdmaWx0ZXJfX2Jsb2NrLWNvbnRlbnRfbW9yZScpO1xuXHRcdCQodGhpcykucmVtb3ZlKCk7XG5cdH0pO1xuXG5cdCQoJy5kcm9wX19pdGVtJykub24oJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG5cdFx0aWYgKCEkKHRoaXMpLmhhc0NsYXNzKCdkcm9wX19pdGVtX2xpbmsnKSkge1xuXHRcdFx0JCh0aGlzKS5hZGRDbGFzcygnZHJvcF9faXRlbV9hY3RpdmUnKS5zaWJsaW5ncygpLnJlbW92ZUNsYXNzKCdkcm9wX19pdGVtX2FjdGl2ZScpO1xuXHRcdH1cblxuXHRcdCQodGhpcykuY2xvc2VzdCgnW2RhdGEtZHJvcF0nKS5yZW1vdmVDbGFzcygnZHJvcC1vcGVuJyk7XG5cdH0pO1xuXG5cdCQoZG9jdW1lbnQpLm9uKCdjbGljaycsICdbZGF0YS1kcm9wXScsIGZ1bmN0aW9uKCkge1xuXG5cdFx0dmFyIGRhdGEgPSAkKHRoaXMpLmRhdGEoJ2Ryb3AnKTtcblxuXHRcdGlmIChkYXRhID09ICd0cmlnZ2VyJykge1xuXHRcdFx0JCgnLmRyb3Atb3BlbicpLnJlbW92ZUNsYXNzKCdkcm9wLW9wZW4nKTtcblx0XHRcdCQodGhpcykucGFyZW50KCkuY2xvc2VzdCgnW2RhdGEtZHJvcF0nKS5hZGRDbGFzcygnZHJvcC1vcGVuJyk7XG5cdFx0fSBlbHNlIHJldHVybjtcblxuXHR9KTtcblxuXHQkKGRvY3VtZW50KS5vbignY2xpY2snLCBmdW5jdGlvbihlKSB7XG5cblx0XHR2YXIgZHJvcCA9ICQoZS50YXJnZXQpLnBhcmVudCgpLmNsb3Nlc3QoJ1tkYXRhLWRyb3BdJykuZ2V0KDApLFxuXHRcdFx0XHR0aXAgPSAkKGUudGFyZ2V0KS5wYXJlbnQoKS5jbG9zZXN0KCcudGlwJykuZ2V0KDApO1xuXG5cdFx0aWYgKCQoZS50YXJnZXQpLmhhc0NsYXNzKCdjb3VudGVyX19idG5fcGx1cycpKSByZXR1cm47XG5cblx0XHRpZiAoIWRyb3ApIHtcblx0XHRcdCQoJy5kcm9wLW9wZW4nKS5yZW1vdmVDbGFzcygnZHJvcC1vcGVuJyk7XG5cdFx0fVxuXG5cdFx0aWYgKCF0aXApIHtcblx0XHRcdCQoJy50aXBfX2hpZGVjb250ZW50JykuaGlkZSgpO1xuXHRcdFx0JCgnLmNvbnRhaW5lcl9fbWFpbicpLmNzcygnei1pbmRleCcsICcnKTtcblx0XHR9XG5cblx0fSlcblxuXHQkKCcuZGVzY3JpcHRpb25fX3Nob3cnKS5vbignY2xpY2snLCBmdW5jdGlvbigpIHtcblx0XHQkKHRoaXMpLmhpZGUoKTtcblx0XHQkKCcuZGVzY3JpcHRpb25fX3Nob3J0JykuaGlkZSgpO1xuXHRcdCQoJy5kZXNjcmlwdGlvbl9fYWxsJykuc2hvdygpO1xuXHR9KTtcblxuXHQkKCdbZGF0YS1jbG9zZV0nKS5vbignY2xpY2snLCBmdW5jdGlvbihlKSB7XG5cdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG5cdFx0JCh0aGlzKS5wYXJlbnQoKS5oaWRlKCk7XG5cdFx0JCh0aGlzKS5jbG9zZXN0KCcuY2FyZCcpLmNzcygnei1pbmRleCcsICcnKTtcblx0fSk7XG5cblx0JCgnLnRpcF9fbmFtZScpLm9uKCdjbGljaycsIGZ1bmN0aW9uKCkge1xuXHRcdCQoJy50aXAnKS5jc3MoJ3otaW5kZXgnLCAnJyk7XG5cdFx0JCgnLmNvbnRhaW5lcl9fbWFpbicpLmNzcygnei1pbmRleCcsICczJyk7XG5cdFx0JCgnLmNhcmQnKS5jc3MoJ3otaW5kZXgnLCAnJyk7XG5cdFx0JCgnLnRpcF9faGlkZWNvbnRlbnQnKS5oaWRlKCk7XG5cdFx0JCh0aGlzKS5wYXJlbnQoKS5maW5kKCcudGlwX19oaWRlY29udGVudCcpLnNob3coKTtcblx0XHQkKHRoaXMpLmNsb3Nlc3QoJy5jYXJkJykuY3NzKCd6LWluZGV4JywgJzInKTtcblx0XHQkKHRoaXMpLmNsb3Nlc3QoJy50aXAnKS5jc3MoJ3otaW5kZXgnLCAnOScpO1xuXHR9KTtcblxuXHQkKCcudGlwX2hvdmVyJykuaG92ZXIoZnVuY3Rpb24oKSB7XG5cdFx0JCh0aGlzKS5maW5kKCcudGlwX19oaWRlY29udGVudCcpLnNob3coKTtcblx0fSwgZnVuY3Rpb24oKSB7XG5cdFx0JCgnLnRpcF9faGlkZWNvbnRlbnQnKS5oaWRlKCk7XG5cdH0pO1xuXG5cdC8vIEdhbGxlcnlcblx0JCgnLmdhbGxlcnlfX2VsZW1lbnQnKS5vbignY2xpY2snLCBmdW5jdGlvbigpIHtcblxuXHRcdGlmICgkKHRoaXMpLmhhc0NsYXNzKCdnYWxsZXJ5X19lbGVtZW50X3ZpZGVvJykpIHtcblx0XHRcdHZhciB2aWRlbyA9ICQodGhpcykuZmluZCgndmlkZW8nKS5jbG9uZSgpO1xuXG5cdFx0XHQkKCcubW9kYWxfem9vbSAubW9kYWxfX2NvbnRlbnQnKS5odG1sKHZpZGVvKTtcblxuXHRcdFx0JCgnLm1vZGFsX3pvb20nKS5pemlNb2RhbCgnb3BlbicpO1xuXG5cdFx0fSBlbHNlIHtcblx0XHRcdHZhciBpbWcgPSAkKHRoaXMpLmZpbmQoJ2ltZycpLmNsb25lKCk7XG5cblx0XHRcdCQodGhpcykuY2xvc2VzdCgnLmdhbGxlcnknKS5maW5kKCcuZ2FsbGVyeV9fdmlldycpLmVtcHR5KCkuYXBwZW5kKGltZyk7XG5cblx0XHRcdCQodGhpcykuY2xvc2VzdCgnLmdhbGxlcnlfX2xpc3QnKS5maW5kKCcuZ2FsbGVyeV9fZWxlbWVudF9hY3RpdmUnKS5yZW1vdmVDbGFzcygnZ2FsbGVyeV9fZWxlbWVudF9hY3RpdmUnKTtcblx0XHRcdCQodGhpcykuYWRkQ2xhc3MoJ2dhbGxlcnlfX2VsZW1lbnRfYWN0aXZlJyk7XG5cblx0XHRcdCQoJy5nYWxsZXJ5X192aWV3IGltZycpLm1hZ25pZnkoKTtcblx0XHR9XG5cblx0fSk7XG5cblx0JCgnLnZsaXN0X2Z1bGwnKS5lYWNoKGZ1bmN0aW9uKGksIGxpc3QpIHtcblx0XHR2YXIgc2hvdyA9ICQobGlzdCkuZGF0YSgnc2hvdycpLFxuXHRcdFx0XHRsaW5lID0gJChsaXN0KS5maW5kKCcudmxpc3RfX2xpbmU6bm90KC52bGlzdF9fbGluZV9oZWFkKScpLmdldChzaG93KTtcblxuXHRcdCQobGluZSkuaGlkZSgpLm5leHRBbGwoJzpub3QoLnZsaXN0X19saW5lX21vcmUpJykuaGlkZSgpO1xuXHR9KTtcblxuXHQkKCcudmxpc3RfX21vcmUnKS5vbignY2xpY2snLCBmdW5jdGlvbigpIHtcblx0XHQkKHRoaXMpLmNsb3Nlc3QoJy52bGlzdCcpLnRvZ2dsZUNsYXNzKCd2bGlzdF9hbGxzaG93Jyk7XG5cdH0pO1xuXG5cdC8vIE1vZGFsXG5cblx0c2V0VGltZW91dChmdW5jdGlvbigpIHtcblx0XHQkKCdbZGF0YS1tb2RhbF0nKS5pemlNb2RhbCh7XG5cdFx0XHRvbkNsb3Npbmc6IGZ1bmN0aW9uKHIpe1xuXHRcdFx0XHR2YXIgdmlkZW8gPSByLiRlbGVtZW50LmZpbmQoJ3ZpZGVvJykuZ2V0KDApO1xuXG5cdFx0XHRcdGlmICh2aWRlbykge1xuXHRcdFx0XHRcdHZpZGVvLnBhdXNlKCk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9KTtcblx0fSwgMSlcblxuXG5cdCQoJ1tkYXRhLW9wZW5dJykub24oJ2NsaWNrJywgZnVuY3Rpb24oZSkge1xuXHRcdGUucHJldmVudERlZmF1bHQoKTtcblxuXHRcdHZhciBtID0gJCh0aGlzKS5kYXRhKCdvcGVuJyk7XG5cdFx0JCgnW2RhdGEtbW9kYWw9JyttKyddJykuaXppTW9kYWwoJ29wZW4nKTtcblx0fSk7XG5cblxuXHQkKCcuZ2FsbGVyeV9fdmlldywgLnNob3BfX3NsaWRlJykub24oJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG5cdFx0dmFyIGltZyA9ICQodGhpcykuZmluZCgnaW1nJykuY2xvbmUoKTtcblxuXHRcdCQoJy5tb2RhbF96b29tIC5tb2RhbF9fY29udGVudCcpLmh0bWwoaW1nKVxuXG5cdFx0JCgnLm1vZGFsX3pvb20nKS5pemlNb2RhbCgnb3BlbicpO1xuXHR9KTtcblxuXG5cdCQoJy5maWx0ZXItdG9nZ2xlJykub24oJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG5cdFx0JCgnLmZpbHRlciAudG9nZ2xlOm5vdCgudG9nZ2xlX2Nsb3NlKScpLnRyaWdnZXIoJ2NsaWNrJyk7XG5cdFx0JCgnLmZpbHRlcicpLnRvZ2dsZSgpO1xuXHR9KTtcblxuXHQkKCcubS1tZW51X190b2dnbGUnKS5vbignY2xpY2snLCBmdW5jdGlvbigpIHtcblx0XHRpZiAoISQoJy5wYWdlJykuaGFzQ2xhc3MoJ3BhZ2VfZnJlZXplJykpIHtcblx0XHRcdGNvbnN0IGggPSAkKCcubS1tZW51X19jb250ZW50JykuaGVpZ2h0KCk7XG5cdFx0XHQkKCcucGFnZScpLmFkZENsYXNzKCdwYWdlX2ZyZWV6ZScpLmNzcygnaGVpZ2h0JywgaCsncHgnKTtcblx0XHRcdCQoJ2h0bWwsYm9keScpLmNzcygnb3ZlcmZsb3cteCcsICdoaWRkZW4nKTtcblxuXHRcdH0gZWxzZSB7XG5cdFx0XHQkKCcucGFnZScpLnJlbW92ZUNsYXNzKCdwYWdlX2ZyZWV6ZScpLmNzcygnaGVpZ2h0JywgJycpO1xuXHRcdFx0JCgnaHRtbCxib2R5JykuY3NzKCdvdmVyZmxvdycsICcnKTtcblx0XHR9O1xuXG5cdFx0JCh3aW5kb3cpLnNjcm9sbFRvcCgwKTtcblxuXHRcdCQoJy5tLW1lbnVfX2NvbnRlbnQnKS50b2dnbGUoKTtcblx0fSk7XG5cblx0JCgnLm0tbWVudV9faXRlbV9kcm9wJykub24oJ2NsaWNrJywgZnVuY3Rpb24oZSkge1xuXHRcdGUuc3RvcFByb3BhZ2F0aW9uKCk7XG5cblx0XHR2YXIgZHJvcCA9ICQodGhpcykuZmluZCgnLm0tbWVudV9fZHJvcCcpLmZpcnN0KCksXG5cdFx0XHRcdGNhdGFsb2cgPSBCb29sZWFuKCQodGhpcykuY2xvc2VzdCgnLm0tbWVudV9fZHJvcF9jYXRhbG9nJykuZ2V0KDApKSB8fCBCb29sZWFuKCQodGhpcykuZmluZCgnLm0tbWVudV9fZHJvcF9jYXRhbG9nJykuZ2V0KDApKTtcblxuXHRcdGlmICgkKGUudGFyZ2V0KS5wYXJlbnRzVW50aWwoJy5tLW1lbnVfX2l0ZW1fZHJvcCcpLmxlbmd0aCA8PSAxKSB7XG5cdFx0XHQkKGRyb3ApLnRvZ2dsZUNsYXNzKCdtLW1lbnVfX2Ryb3Bfc2hvdycpO1xuXG5cdFx0XHRpZiAoIWNhdGFsb2cpIHtcblx0XHRcdFx0Y29uc3QgaCA9ICQoJy5tLW1lbnVfX2NvbnRlbnQnKS5oZWlnaHQoKTtcblx0XHRcdFx0JCgnLnBhZ2UnKS5jc3MoJ2hlaWdodCcsIGgpO1xuXHRcdFx0XHRyZXR1cm5cblx0XHRcdH1cblxuXHRcdFx0aWYgKCQoZHJvcCkuaGFzQ2xhc3MoJ20tbWVudV9fZHJvcF9zaG93JykpIHtcblx0XHRcdFx0Y29uc3QgaCA9ICQoZHJvcCkuZmluZCgnLm0tbWVudV9fbGlzdCcpLmZpcnN0KCkuaGVpZ2h0KCk7XG5cdFx0XHRcdCQoJy5wYWdlJykuY3NzKCdoZWlnaHQnLCBoKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGNvbnN0IGggPSAkKHRoaXMpLmNsb3Nlc3QoJy5tLW1lbnVfX2xpc3QnKS5oZWlnaHQoKTtcblx0XHRcdFx0JCgnLnBhZ2UnKS5jc3MoJ2hlaWdodCcsIGgpO1xuXG5cdFx0XHR9XG5cdFx0fVxuXG5cdH0pO1xuXG5cdCQoJy5tLW1lbnVfX2JhY2snKS5vbignY2xpY2snLCBmdW5jdGlvbihlKSB7XG5cdFx0ZS5zdG9wUHJvcGFnYXRpb24oKTtcblxuXHRcdCQodGhpcykuY2xvc2VzdCgnLm0tbWVudV9fZHJvcF9zaG93JykucmVtb3ZlQ2xhc3MoJ20tbWVudV9fZHJvcF9zaG93Jyk7XG5cblx0XHRjb25zdCBoID0gJCgnLm0tbWVudV9fY29udGVudCcpLmhlaWdodCgpO1xuXHRcdCQoJy5wYWdlJykuY3NzKCdoZWlnaHQnLCBoKTtcblx0XHRyZXR1cm5cblx0fSk7XG5cblx0JCgnW2RhdGEtdGFic10gPiAqJykub24oJ2NsaWNrJywgZnVuY3Rpb24oZSkge1xuXHRcdGUucHJldmVudERlZmF1bHQoKTtcblxuXHRcdHZhciBkYXRhID0gJCh0aGlzKS5wYXJlbnQoKS5kYXRhKCd0YWJzJyksXG5cdFx0XHRcdGluZGV4ID0gJCh0aGlzKS5pbmRleCgpLFxuXHRcdFx0XHRjb250ZW50ID0gJCgnW2RhdGEtdGFicy1jb250ZW50PScrZGF0YSsnXScpLmNoaWxkcmVuKCkuZ2V0KGluZGV4KTtcblxuXHRcdCQoY29udGVudCkuc2hvdygpLnNpYmxpbmdzKCkuaGlkZSgpO1xuXG5cdFx0aWYgKCFjb250ZW50KSB7XG5cdFx0XHQkKCdbZGF0YS10YWJzLWNvbnRlbnQ9JytkYXRhKyddJykuY2hpbGRyZW4oKS5oaWRlKCk7XG5cdFx0fVxuXG5cdFx0JCh0aGlzKS5hZGRDbGFzcygnYWN0aXZlJykuc2libGluZ3MoKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XG5cdH0pO1xuXG5cdCQoJy52aWRlbycpLm9uKCdjbGljaycsIGZ1bmN0aW9uKCkge1xuXHRcdHZhciBpZCA9ICQodGhpcykuZGF0YSgnaWQnKTtcblxuXHRcdCQoJyMnK2lkKS5pemlNb2RhbCgnb3BlbicpO1xuXHR9KTtcblxuXHQkKCcuY2hlY2tib3ggaW5wdXQnKS5vbignY2xpY2snLCBmdW5jdGlvbihlKSB7XG5cdFx0ZS5zdG9wUHJvcGFnYXRpb24oKTtcblxuXHRcdCQodGhpcykuY2xvc2VzdCgnLmNoZWNrYm94JykudG9nZ2xlQ2xhc3MoJ2NoZWNrYm94X2FjdGl2ZScpO1xuXHR9KTtcblxuXHR2YXIgc2Nyb2xsaW5nLFxuXHRcdFx0dG9Ub3AgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudG8tdG9wJyk7XG5cblx0ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgZnVuY3Rpb24oZSkge1xuXHRcdCBzY3JvbGxpbmcgPSAod2luZG93LnBhZ2VZT2Zmc2V0IHx8IGRvY3VtZW50LmJvZHkuc2Nyb2xsVG9wKSAgLSAoZG9jdW1lbnQuYm9keS5jbGllbnRUb3AgfHwgMCk7XG5cblx0XHQgaWYgKCQoZS50YXJnZXQpLmNsb3Nlc3QoJy5yZXN1bHRzJykuZ2V0KDApKSByZXR1cm47XG5cblx0XHQgaWYgKCQod2luZG93KS53aWR0aCgpID4gOTYwKSB7XG5cdFx0XHQgaWYgKHNjcm9sbGluZyA+PSAyMDApIHtcblx0XHRcdFx0ICQoJy5oZWFkZXJfX2ZpeCcpLmFkZENsYXNzKCdoZWFkZXJfX2ZpeF9zaG93Jyk7XG5cdFx0XHRcdCAkKCcucmVzdWx0cycpLmFwcGVuZFRvKCcuaGVhZGVyX19maXggLnNlYXJjaCcpO1xuXHRcdFx0IH0gZWxzZSBpZiAoJCgnLmhlYWRlcl9fZml4JykuaGFzQ2xhc3MoJ2hlYWRlcl9fZml4X3Nob3cnKSkge1xuXHRcdFx0XHQgJCgnLmhlYWRlcl9fZml4JykucmVtb3ZlQ2xhc3MoJ2hlYWRlcl9fZml4X3Nob3cnKTtcblx0XHRcdFx0ICQoJy5yZXN1bHRzJykuYXBwZW5kVG8oJy5oZWFkZXJfX2JvZHkgLnNlYXJjaCcpO1xuXHRcdFx0IH1cblx0XHQgfSBlbHNlIHtcblx0XHRcdCBpZiAoc2Nyb2xsaW5nID49IDMxICYmICEkKCcucGFnZScpLmhhc0NsYXNzKCdwYWdlX2ZyZWV6ZScpKSB7XG5cdFx0XHRcdCAkKCcuaGVhZGVyX19tb2JpbGUnKS5hZGRDbGFzcygnaGVhZGVyX19tb2JpbGVfZml4Jyk7XG5cdFx0XHQgfSBlbHNlIGlmICgkKCcuaGVhZGVyX19tb2JpbGUnKS5oYXNDbGFzcygnaGVhZGVyX19tb2JpbGVfZml4JykpIHtcblx0XHRcdFx0ICQoJy5oZWFkZXJfX21vYmlsZScpLnJlbW92ZUNsYXNzKCdoZWFkZXJfX21vYmlsZV9maXgnKTtcblx0XHRcdCB9XG5cblx0XHQgfVxuXG5cdFx0IGlmIChzY3JvbGxpbmcgPj0gMTAwMCAmJiB3aW5kb3dXaWR0aCA+IDk2MCkge1xuXHRcdFx0IHRvVG9wLmNsYXNzTGlzdC5hZGQoJ3RvLXRvcF9zaG93Jyk7XG5cdFx0IH0gZWxzZSB7XG5cdFx0XHQgdG9Ub3AuY2xhc3NMaXN0LnJlbW92ZSgndG8tdG9wX3Nob3cnKTtcblx0XHQgfVxuXHR9LCB0cnVlKTtcblxuXHQkKCcudG8tdG9wJykub24oJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG5cdFx0JChcImh0bWwsIGJvZHlcIikuc3RvcCgpLmFuaW1hdGUoe3Njcm9sbFRvcDowfSwgNTAwLCAnc3dpbmcnKTtcblx0fSk7XG5cblx0JCgnLmNvdW50ZXJfX2J0bl9wbHVzJykub24oJ2NsaWNrJywgZnVuY3Rpb24oZSkge1xuXHRcdGUucHJldmVudERlZmF1bHQoKTtcblxuXHRcdCQoJy5jYXJkJykuY3NzKCd6LWluZGV4JywgJycpO1xuXG5cdFx0JCgnLnRpcF9faGlkZWNvbnRlbnQnKS5oaWRlKCk7XG5cdFx0JCgnLnRpcCcpLmNzcygnei1pbmRleCcsICcnKTtcblx0XHQkKHRoaXMpLnBhcmVudCgpLmZpbmQoJy50aXBfX2hpZGVjb250ZW50JykuZmlyc3QoKS5zaG93KCk7XG5cdFx0JCh0aGlzKS5jbG9zZXN0KCcuY2FyZCcpLmNzcygnei1pbmRleCcsICc1Jyk7XG5cdFx0JCh0aGlzKS5wYXJlbnQoKS5maW5kKCcudGlwJykuY3NzKCd6LWluZGV4JywgJzknKTtcblxuXHRcdGlmICgkKCcuY29udGFpbmVyX19zaWRlJykuZ2V0KDApKSB7XG5cdFx0XHQkKCcuY29udGFpbmVyX19tYWluJykuY3NzKCd6LWluZGV4JywgJzMnKTtcblx0XHR9XG5cdH0pO1xuXG5cdC8vIHNlYXJjaFxuXHQkKCcuc2VhcmNoX19maWVsZCBpbnB1dCcpLmZvY3VzKGZ1bmN0aW9uKCkge1xuXHRcdCQodGhpcykuY2xvc2VzdCgnLnNlYXJjaCcpLmFkZENsYXNzKCdzZWFyY2hfZm9jdXMnKTtcblx0XHQkKCcucGFnZScpLmFwcGVuZCgnPGRpdiBjbGFzcz1cImZhZGUtYmdcIj48L2Rpdj4nKTtcblx0fSk7XG5cblx0JCgnLnNlYXJjaF9fZmllbGQgaW5wdXQnKS5mb2N1c291dChmdW5jdGlvbihlKSB7XG5cdFx0JCh0aGlzKS5jbG9zZXN0KCcuc2VhcmNoJykucmVtb3ZlQ2xhc3MoJ3NlYXJjaF9mb2N1cycpO1xuXHRcdCQoJy5mYWRlLWJnJykucmVtb3ZlKCk7XG5cdH0pO1xuXG5cdCQoJ2J1dHRvbi5idG4sIC5jb3VudGVyX19idG4sIC5jbG9zZScpLm9uKCdjbGljaycsIGZ1bmN0aW9uKGUpIHtcblx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdH0pXG5cblx0JCgnYVtocmVmXj1cIiNcIl0nKS5vbignY2xpY2snLCBmdW5jdGlvbihlKSB7XG5cdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdHZhciBpZCA9ICQodGhpcykuYXR0cignaHJlZicpO1xuXG4gICAgJCgnaHRtbCwgYm9keScpLmFuaW1hdGUoe1xuICAgICAgICBzY3JvbGxUb3A6ICQoaWQpLm9mZnNldCgpLnRvcCArICQoJ2JvZHknKS5zY3JvbGxUb3AoKSAtIDgwXG4gICAgfSwgMTAwMCk7XG5cblx0fSk7XG5cblx0JCgnLmRyb3AgLmNsb3NlJykub24oJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG5cdFx0JCh0aGlzKS5jbG9zZXN0KCcuZHJvcC1vcGVuJykucmVtb3ZlQ2xhc3MoJ2Ryb3Atb3BlbicpO1xuXHR9KVxuXG5cdHZhciBoZWlnaHRCb3R0b21TY3JvbGwgPSAwO1xuXG5cdCQoJy5wYWdlX19jb250ZW50JykubmV4dEFsbCgpLmVhY2goZnVuY3Rpb24oaSwgZWwpIHtcblx0XHRoZWlnaHRCb3R0b21TY3JvbGwgKz0gJChlbCkuaGVpZ2h0KCk7XG5cdH0pO1xuXG5cdC8vIHN0aWNreSBjYXJ0IHNpZGVcblxuXHRmdW5jdGlvbiBzdGlja3lTaWRlKCkge1xuXHRcdCQoJy5jb250YWluZXJfX3NpZGUtc2Nyb2xsJykuc3RpY2t5KHtcblx0XHRcdHRvcFNwYWNpbmc6IDgwLFxuXHRcdFx0Ym90dG9tU3BhY2luZzogJCgnLmZvb3RlcicpLmhlaWdodCgpICsgJCgnLmNvbnRhaW5lcl9fc2lkZS1zY3JvbGwnKS5vZmZzZXQoKS50b3Bcblx0XHR9KTtcblx0fVxuXG5cdGlmICh3aW5kb3dXaWR0aCA+IDk2MCAmJiAkKCcuY29udGFpbmVyX19zaWRlLXNjcm9sbCcpLmdldCgwKSkgc3RpY2t5U2lkZSgpO1xuXG5cdGluaXQoKTtcblxuXG59KSh3aW5kb3cpO1xuIl19
