'use strict';

(function (root) {

	// Инициализация прилдожения
	var windowWidth = $(window).width();

	function init() {

		if ($('.gallery').get(0)) {
			$('.gallery__element').first().trigger('click');
		}

		$('[data-tabs]').each(function (i, tabs) {
			$(tabs).children().first().trigger('click');
		});

		$('.toggle_close').each(function (i, toggle) {
			var data = $(this).data('toggle');

			$(this).parent().find('.' + data).hide();
		});
	};

	var evt = new Event(),
	    m = new Magnifier(evt);

	$(window).on('resize', function () {
		windowWidth = $(window).width();

		if (windowWidth <= 960 && $('.container__side-scroll').parent().hasClass('sticky-wrapper')) {
			$('.container__side-scroll').unstick();
		} else if (windowWidth > 960 && $('.container__side-scroll').get(0) && !$('.container__side-scroll').parent().hasClass('sticky-wrapper')) {
			stickySide();
		}
	});

	// Слайдеры
	var dataSliders = {
		feautures: {
			items: 6,
			nav: true
		},
		gallery: {
			items: 1,
			nav: true,
			dots: true,
			mouseDrag: false,
			responsive: {
				961: {
					items: 4,
					dots: false
				}
			}
		},
		promo: {
			items: 1,
			dots: true,
			loop: true,
			autoplay: true
		},
		shop: {
			items: 1,
			loop: true,
			nav: false,
			center: false,
			responsive: {
				680: {
					items: 3,
					center: true,
					nav: true
				}
			}
		}
	};

	$('[data-slider]').each(function (i, slider) {
		var data = $(this).data('slider');

		$(slider).owlCarousel(dataSliders[data]);
	});

	$('.range__slider').each(function () {
		var range = this,
		    minInput = $(range).closest('.range').find('[data-input="min"]'),
		    maxInput = $(range).closest('.range').find('[data-input="max"]');

		function update() {
			var from = $(range).data('from'),
			    to = $(range).data('to');

			$(minInput).val(from);
			$(maxInput).val(to);
		}

		$(range).ionRangeSlider({
			extra_classes: 'range__slider',
			hide_min_max: true,
			hide_from_to: true
		});

		update();
		$(range).on('change', update);
	});

	$('[data-input]').on('change', function () {
		var range = $(this).closest('.range').find('input.range__slider').data("ionRangeSlider"),
		    val = $(this).val(),
		    min = range.options.min,
		    max = range.options.max,
		    from = range.options.from,
		    to = range.options.to,
		    step = range.options.step;

		switch ($(this).data('input')) {
			case 'min':
				if (val <= min) {
					val = min;
				} else if (val >= max) {
					val = max - step;
				} else if (val >= to) {
					val = to - step;
				}

				range.update({
					from: val
				});
				break;
			case 'max':
				if (val >= max) {
					val = max;
				} else if (val <= min) {
					val = min + step;
				} else if (val <= from) {
					val = from + step;
				}

				range.update({
					to: val
				});
				break;
		}

		$(this).val(val);
	});

	// fields
	function filled(field) {
		var val = $(field).val().trim();

		if (val.length > 0) {
			$(field).closest('.field').addClass('field_filled');
		} else {
			$(field).closest('.field').removeClass('field_filled');
		}
	}

	$('.field input, .field textarea').each(function () {
		filled(this);
	});

	$(document).on('keydown', '.field input, .field textarea', function () {
		var t = this;
		setTimeout(function () {
			filled(t);
		}, 100);
	});

	$('.toggle').on('click', function (e) {
		e.stopPropagation();
		var content = $(this).parent().find($('.' + $(this).data('toggle')));
		$(this).toggleClass('toggle_close');
		$(content).stop().slideToggle(300);
	});

	$('.filter__block-content').each(function (i, block) {
		var checks = $(block).find('.checkbox').length;

		if (checks > 5) {
			$(block).addClass('filter__block-content_more');
			$(block).append('<span class="filter__block-more">Показать все</span>');
		}
	});

	$('.filter__block-more').on('click', function () {
		$(this).parent().removeClass('filter__block-content_more');
		$(this).remove();
	});

	$('.drop__item').on('click', function () {
		if (!$(this).hasClass('drop__item_link')) {
			$(this).addClass('drop__item_active').siblings().removeClass('drop__item_active');
		}

		$(this).closest('[data-drop]').removeClass('drop-open');
	});

	$(document).on('click', '[data-drop]', function () {

		var data = $(this).data('drop');

		if (data == 'trigger') {
			$('.drop-open').removeClass('drop-open');
			$(this).parent().closest('[data-drop]').addClass('drop-open');
		} else return;
	});

	$(document).on('click', function (e) {

		var drop = $(e.target).parent().closest('[data-drop]').get(0),
		    tip = $(e.target).parent().closest('.tip').get(0);

		if ($(e.target).hasClass('counter__btn_plus')) return;

		if (!drop) {
			$('.drop-open').removeClass('drop-open');
		}

		if (!tip) {
			$('.tip__hidecontent').hide();
			$('.container__main').css('z-index', '');
		}
	});

	$('.description__show').on('click', function () {
		$(this).hide();
		$('.description__short').hide();
		$('.description__all').show();
	});

	$('[data-close]').on('click', function (e) {
		e.preventDefault();

		$(this).parent().hide();
		$(this).closest('.card').css('z-index', '');
	});

	$('.tip__name').on('click', function () {
		$('.tip').css('z-index', '');
		$('.container__main').css('z-index', '3');
		$('.card').css('z-index', '');
		$('.tip__hidecontent').hide();
		$(this).parent().find('.tip__hidecontent').show();
		$(this).closest('.card').css('z-index', '2');
		$(this).closest('.tip').css('z-index', '9');
	});

	$('.tip_hover').hover(function () {
		$(this).find('.tip__hidecontent').show();
	}, function () {
		$('.tip__hidecontent').hide();
	});

	// Gallery
	var gId = 0;

	$('.gallery__element').on('click', function () {

		if ($(this).hasClass('gallery__element_video')) {
			var video = $(this).find('video').clone();

			$('.modal_zoom .modal__content').html(video);

			$('.modal_zoom').iziModal('open');
		}
		// else if ($(this).hasClass('gallery__element_file')) {
		// 	var file = $(this).data('file');
		//
		// 	window.open(file, '_blank');
		//
		// 	return false
		// }
		else {
				var img = $(this).find('img').clone(),
				    href = $(img).attr('src');

				$(img).attr({
					'id': 'thumb' + gId,
					'data-large-img-url': href,
					'data-large-img-wrapper': 'preview'
				});

				$(this).closest('.gallery').find('.gallery__view').attr('href', href).empty().append(img);

				$(this).closest('.gallery__list').find('.gallery__element_active').removeClass('gallery__element_active');
				$(this).addClass('gallery__element_active');

				$('.gallery__preview').empty();
				m.attach({ thumb: '#thumb' + gId });

				var childPos = $(img).offset();
				var parentPos = $(img).parent().offset();
				var margin = childPos.left - parentPos.left;

				$(img).next().css('margin-left', margin + 'px');

				gId++;

				$('.gallery__view img').hover(function () {
					$('.gallery__preview').addClass('gallery__preview_hover');
				}, function () {
					$('.gallery__preview').removeClass('gallery__preview_hover');
				});
			}
	});

	$('.vlist_full').each(function (i, list) {
		var show = $(list).data('show'),
		    line = $(list).find('.vlist__line:not(.vlist__line_head)').get(show);

		$(line).hide().nextAll(':not(.vlist__line_more)').hide();
	});

	$('.vlist__more').on('click', function () {
		$(this).closest('.vlist').toggleClass('vlist_allshow');
	});

	// Modal

	setTimeout(function () {
		$('[data-modal]').iziModal({
			onClosing: function onClosing(r) {
				var video = r.$element.find('video').get(0);

				if (video) {
					video.pause();
				}
			}
		});
	}, 1);

	$('[data-open]').on('click', function (e) {
		e.preventDefault();

		var m = $(this).data('open');
		$('[data-modal=' + m + ']').iziModal('open');
	});

	$('.gallery__view, .shop__slide').on('click', function (e) {
		e.preventDefault();

		var img = $(this).find('img').clone();

		$('.modal_zoom .modal__content').html(img);

		$('.modal_zoom').iziModal('open');
	});

	$('.filter-toggle').on('click', function () {
		$('.filter .toggle:not(.toggle_close)').trigger('click');
		$('.filter').toggle();
	});

	$('.m-menu__toggle').on('click', function () {
		if (!$('.page').hasClass('page_freeze')) {
			var h = $('.m-menu__content').height();
			$('.page').addClass('page_freeze').css('height', h + 'px');
			$('html,body').css('overflow-x', 'hidden');
		} else {
			$('.page').removeClass('page_freeze').css('height', '');
			$('html,body').css('overflow', '');
		};

		$(window).scrollTop(0);

		$('.m-menu__content').toggle();
	});

	$('.m-menu__item_drop').on('click', function (e) {
		e.stopPropagation();

		var drop = $(this).find('.m-menu__drop').first(),
		    catalog = Boolean($(this).closest('.m-menu__drop_catalog').get(0)) || Boolean($(this).find('.m-menu__drop_catalog').get(0));

		if ($(e.target).parentsUntil('.m-menu__item_drop').length <= 1) {
			$(drop).toggleClass('m-menu__drop_show');

			if (!catalog) {
				var h = $('.m-menu__content').height();
				$('.page').css('height', h);
				return;
			}

			if ($(drop).hasClass('m-menu__drop_show')) {
				var _h = $(drop).find('.m-menu__list').first().height();
				$('.page').css('height', _h);
			} else {
				var _h2 = $(this).closest('.m-menu__list').height();
				$('.page').css('height', _h2);
			}
		}
	});

	$('.m-menu__back').on('click', function (e) {
		e.stopPropagation();

		$(this).closest('.m-menu__drop_show').removeClass('m-menu__drop_show');

		var h = $('.m-menu__content').height();
		$('.page').css('height', h);
		return;
	});

	$('[data-tabs] > *').on('click', function (e) {
		e.preventDefault();

		var data = $(this).parent().data('tabs'),
		    index = $(this).index(),
		    content = $('[data-tabs-content=' + data + ']').children().get(index);

		$(content).show().siblings().hide();

		if (!content) {
			$('[data-tabs-content=' + data + ']').children().hide();
		}

		$(this).addClass('active').siblings().removeClass('active');
	});

	$('.video').on('click', function () {
		var id = $(this).data('id');

		$('#' + id).iziModal('open');
	});

	$('.checkbox input').on('click', function (e) {
		e.stopPropagation();

		$(this).closest('.checkbox').toggleClass('checkbox_active');
	});

	var scrolling,
	    toTop = document.querySelector('.to-top');

	document.addEventListener('scroll', function (e) {
		scrolling = (window.pageYOffset || document.body.scrollTop) - (document.body.clientTop || 0);

		if ($(e.target).closest('.results').get(0)) return;

		if ($(window).width() > 960) {
			if (scrolling >= 200) {
				$('.header__fix').addClass('header__fix_show');
				$('.results').appendTo('.header__fix .search');
			} else if ($('.header__fix').hasClass('header__fix_show')) {
				$('.header__fix').removeClass('header__fix_show');
				$('.results').appendTo('.header__body .search');
			}
		} else {
			if (scrolling >= 31 && !$('.page').hasClass('page_freeze')) {
				$('.header__mobile').addClass('header__mobile_fix');
			} else if ($('.header__mobile').hasClass('header__mobile_fix')) {
				$('.header__mobile').removeClass('header__mobile_fix');
			}
		}

		if (scrolling >= 1000 && windowWidth > 960) {
			toTop.classList.add('to-top_show');
		} else {
			toTop.classList.remove('to-top_show');
		}
	}, true);

	$('.to-top').on('click', function () {
		$("html, body").stop().animate({ scrollTop: 0 }, 500, 'swing');
	});

	$('.counter__btn_plus').on('click', function (e) {
		e.preventDefault();

		$('.card').css('z-index', '');

		$('.tip__hidecontent').hide();
		$('.tip').css('z-index', '');
		$(this).parent().find('.tip__hidecontent').first().show();
		$(this).closest('.card').css('z-index', '5');
		$(this).parent().find('.tip').css('z-index', '9');

		if ($('.container__side').get(0)) {
			$('.container__main').css('z-index', '3');
		}
	});

	// search
	$('.search__field input').on('click', function () {
		$(this).closest('.search').addClass('search_focus');
		$('.page').append('<div class="fade-bg"></div>');
	});

	$(document).on('click', '.fade-bg', function (e) {
		$('.search').removeClass('search_focus');
		$(this).remove();
	});

	$('button.btn, .counter__btn, .close').on('click', function (e) {
		e.preventDefault();
	});

	$('a[href^="#"]').on('click', function (e) {
		e.preventDefault();
		var id = $(this).attr('href');

		$('html, body').animate({
			scrollTop: $(id).offset().top + $('body').scrollTop() - 80
		}, 1000);
	});

	$('.drop .close').on('click', function (e) {
		e.preventDefault();
		e.stopPropagation();

		$(this).closest('.drop-open').removeClass('drop-open');
	});

	var heightBottomScroll = 0;

	$('.page__content').nextAll().each(function (i, el) {
		heightBottomScroll += $(el).height();
	});

	// nav index adaptive menu page

	$('.catalog-nav__item').on('click', function (e) {
		if (windowWidth <= 960) {

			var t = $(e.target).parent()[0];

			if (!$(t).hasClass('drop-nav__item')) e.preventDefault();

			var drop = $(e.target).closest('li').find('.drop-nav')[0];

			if (drop) {
				if ($(drop).hasClass('drop-nav_show')) {
					$(drop).removeClass('drop-nav_show');
				} else {
					$(drop).addClass('drop-nav_show');
				}
			}
		}
	});

	$('.drop-nav__item_group').on('click', function (e) {
		if (windowWidth <= 960) {
			var showing = $(this).parent().hasClass('drop-nav__list_show');

			if (showing) {
				$(this).parent().removeClass('drop-nav__list_show');
			} else {
				e.preventDefault();
				$('.drop-nav__list_show').removeClass('drop-nav__list_show');
				$(this).parent().addClass('drop-nav__list_show');
			}
		}
	});

	// sticky cart side

	function stickySide() {
		$('.container__side-scroll').sticky({
			topSpacing: 80,
			bottomSpacing: $('.footer').height() + $('.container__side-scroll').offset().top
		});
	}

	if (windowWidth > 960 && $('.container__side-scroll').get(0)) stickySide();

	$('.description').each(function (i, block) {
		var short = $(block).find('.description__short');
		if ($(short).height() >= 100) {
			$(short).addClass('description__short_gradient');
		}
	});

	init();
})(window);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNjcmlwdC5qcyJdLCJuYW1lcyI6WyJyb290Iiwid2luZG93V2lkdGgiLCIkIiwid2luZG93Iiwid2lkdGgiLCJpbml0IiwiZ2V0IiwiZmlyc3QiLCJ0cmlnZ2VyIiwiZWFjaCIsImkiLCJ0YWJzIiwiY2hpbGRyZW4iLCJ0b2dnbGUiLCJkYXRhIiwicGFyZW50IiwiZmluZCIsImhpZGUiLCJldnQiLCJFdmVudCIsIm0iLCJNYWduaWZpZXIiLCJvbiIsImhhc0NsYXNzIiwidW5zdGljayIsInN0aWNreVNpZGUiLCJkYXRhU2xpZGVycyIsImZlYXV0dXJlcyIsIml0ZW1zIiwibmF2IiwiZ2FsbGVyeSIsImRvdHMiLCJtb3VzZURyYWciLCJyZXNwb25zaXZlIiwicHJvbW8iLCJsb29wIiwiYXV0b3BsYXkiLCJzaG9wIiwiY2VudGVyIiwic2xpZGVyIiwib3dsQ2Fyb3VzZWwiLCJyYW5nZSIsIm1pbklucHV0IiwiY2xvc2VzdCIsIm1heElucHV0IiwidXBkYXRlIiwiZnJvbSIsInRvIiwidmFsIiwiaW9uUmFuZ2VTbGlkZXIiLCJleHRyYV9jbGFzc2VzIiwiaGlkZV9taW5fbWF4IiwiaGlkZV9mcm9tX3RvIiwibWluIiwib3B0aW9ucyIsIm1heCIsInN0ZXAiLCJmaWxsZWQiLCJmaWVsZCIsInRyaW0iLCJsZW5ndGgiLCJhZGRDbGFzcyIsInJlbW92ZUNsYXNzIiwiZG9jdW1lbnQiLCJ0Iiwic2V0VGltZW91dCIsImUiLCJzdG9wUHJvcGFnYXRpb24iLCJjb250ZW50IiwidG9nZ2xlQ2xhc3MiLCJzdG9wIiwic2xpZGVUb2dnbGUiLCJibG9jayIsImNoZWNrcyIsImFwcGVuZCIsInJlbW92ZSIsInNpYmxpbmdzIiwiZHJvcCIsInRhcmdldCIsInRpcCIsImNzcyIsInNob3ciLCJwcmV2ZW50RGVmYXVsdCIsImhvdmVyIiwiZ0lkIiwidmlkZW8iLCJjbG9uZSIsImh0bWwiLCJpemlNb2RhbCIsImltZyIsImhyZWYiLCJhdHRyIiwiZW1wdHkiLCJhdHRhY2giLCJ0aHVtYiIsImNoaWxkUG9zIiwib2Zmc2V0IiwicGFyZW50UG9zIiwibWFyZ2luIiwibGVmdCIsIm5leHQiLCJsaXN0IiwibGluZSIsIm5leHRBbGwiLCJvbkNsb3NpbmciLCJyIiwiJGVsZW1lbnQiLCJwYXVzZSIsImgiLCJoZWlnaHQiLCJzY3JvbGxUb3AiLCJjYXRhbG9nIiwiQm9vbGVhbiIsInBhcmVudHNVbnRpbCIsImluZGV4IiwiaWQiLCJzY3JvbGxpbmciLCJ0b1RvcCIsInF1ZXJ5U2VsZWN0b3IiLCJhZGRFdmVudExpc3RlbmVyIiwicGFnZVlPZmZzZXQiLCJib2R5IiwiY2xpZW50VG9wIiwiYXBwZW5kVG8iLCJjbGFzc0xpc3QiLCJhZGQiLCJhbmltYXRlIiwidG9wIiwiaGVpZ2h0Qm90dG9tU2Nyb2xsIiwiZWwiLCJzaG93aW5nIiwic3RpY2t5IiwidG9wU3BhY2luZyIsImJvdHRvbVNwYWNpbmciLCJzaG9ydCJdLCJtYXBwaW5ncyI6Ijs7QUFBQSxDQUFDLFVBQVNBLElBQVQsRUFBZTs7QUFFZjtBQUNBLEtBQUlDLGNBQWNDLEVBQUVDLE1BQUYsRUFBVUMsS0FBVixFQUFsQjs7QUFFQSxVQUFTQyxJQUFULEdBQWdCOztBQUVmLE1BQUlILEVBQUUsVUFBRixFQUFjSSxHQUFkLENBQWtCLENBQWxCLENBQUosRUFBMEI7QUFDekJKLEtBQUUsbUJBQUYsRUFBdUJLLEtBQXZCLEdBQStCQyxPQUEvQixDQUF1QyxPQUF2QztBQUNBOztBQUVETixJQUFFLGFBQUYsRUFBaUJPLElBQWpCLENBQXNCLFVBQVNDLENBQVQsRUFBWUMsSUFBWixFQUFrQjtBQUN2Q1QsS0FBRVMsSUFBRixFQUFRQyxRQUFSLEdBQW1CTCxLQUFuQixHQUEyQkMsT0FBM0IsQ0FBbUMsT0FBbkM7QUFDQSxHQUZEOztBQUlBTixJQUFFLGVBQUYsRUFBbUJPLElBQW5CLENBQXdCLFVBQVNDLENBQVQsRUFBWUcsTUFBWixFQUFvQjtBQUMzQyxPQUFJQyxPQUFPWixFQUFFLElBQUYsRUFBUVksSUFBUixDQUFhLFFBQWIsQ0FBWDs7QUFFQVosS0FBRSxJQUFGLEVBQVFhLE1BQVIsR0FBaUJDLElBQWpCLENBQXNCLE1BQUlGLElBQTFCLEVBQWdDRyxJQUFoQztBQUNBLEdBSkQ7QUFLQTs7QUFFRCxLQUFJQyxNQUFNLElBQUlDLEtBQUosRUFBVjtBQUFBLEtBQ0dDLElBQUksSUFBSUMsU0FBSixDQUFjSCxHQUFkLENBRFA7O0FBR0FoQixHQUFFQyxNQUFGLEVBQVVtQixFQUFWLENBQWEsUUFBYixFQUF1QixZQUFXO0FBQ2pDckIsZ0JBQWNDLEVBQUVDLE1BQUYsRUFBVUMsS0FBVixFQUFkOztBQUVBLE1BQUlILGVBQWUsR0FBZixJQUFzQkMsRUFBRSx5QkFBRixFQUE2QmEsTUFBN0IsR0FBc0NRLFFBQXRDLENBQStDLGdCQUEvQyxDQUExQixFQUE0RjtBQUMzRnJCLEtBQUUseUJBQUYsRUFBNkJzQixPQUE3QjtBQUNBLEdBRkQsTUFFTyxJQUFJdkIsY0FBYyxHQUFkLElBQXFCQyxFQUFFLHlCQUFGLEVBQTZCSSxHQUE3QixDQUFpQyxDQUFqQyxDQUFyQixJQUE0RCxDQUFDSixFQUFFLHlCQUFGLEVBQTZCYSxNQUE3QixHQUFzQ1EsUUFBdEMsQ0FBK0MsZ0JBQS9DLENBQWpFLEVBQW1JO0FBQ3pJRTtBQUNBO0FBQ0QsRUFSRDs7QUFVQTtBQUNBLEtBQUlDLGNBQWM7QUFDakJDLGFBQVc7QUFDVkMsVUFBTyxDQURHO0FBRVZDLFFBQUs7QUFGSyxHQURNO0FBS2pCQyxXQUFTO0FBQ1JGLFVBQU8sQ0FEQztBQUVSQyxRQUFLLElBRkc7QUFHUkUsU0FBTSxJQUhFO0FBSVJDLGNBQVcsS0FKSDtBQUtSQyxlQUFZO0FBQ1gsU0FBSztBQUNKTCxZQUFPLENBREg7QUFFSkcsV0FBTTtBQUZGO0FBRE07QUFMSixHQUxRO0FBaUJqQkcsU0FBTztBQUNOTixVQUFPLENBREQ7QUFFTkcsU0FBTSxJQUZBO0FBR05JLFNBQU0sSUFIQTtBQUlOQyxhQUFVO0FBSkosR0FqQlU7QUF1QmpCQyxRQUFNO0FBQ0xULFVBQU8sQ0FERjtBQUVMTyxTQUFNLElBRkQ7QUFHTE4sUUFBSyxLQUhBO0FBSUxTLFdBQVEsS0FKSDtBQUtMTCxlQUFZO0FBQ1gsU0FBSztBQUNKTCxZQUFPLENBREg7QUFFSlUsYUFBUSxJQUZKO0FBR0pULFVBQUs7QUFIRDtBQURNO0FBTFA7QUF2QlcsRUFBbEI7O0FBc0NBM0IsR0FBRSxlQUFGLEVBQW1CTyxJQUFuQixDQUF3QixVQUFTQyxDQUFULEVBQVk2QixNQUFaLEVBQW9CO0FBQzNDLE1BQUl6QixPQUFPWixFQUFFLElBQUYsRUFBUVksSUFBUixDQUFhLFFBQWIsQ0FBWDs7QUFFQVosSUFBRXFDLE1BQUYsRUFBVUMsV0FBVixDQUFzQmQsWUFBWVosSUFBWixDQUF0QjtBQUNBLEVBSkQ7O0FBTUFaLEdBQUUsZ0JBQUYsRUFBb0JPLElBQXBCLENBQXlCLFlBQVc7QUFDbkMsTUFBSWdDLFFBQVEsSUFBWjtBQUFBLE1BQ0VDLFdBQVd4QyxFQUFFdUMsS0FBRixFQUFTRSxPQUFULENBQWlCLFFBQWpCLEVBQTJCM0IsSUFBM0IsQ0FBZ0Msb0JBQWhDLENBRGI7QUFBQSxNQUVFNEIsV0FBVzFDLEVBQUV1QyxLQUFGLEVBQVNFLE9BQVQsQ0FBaUIsUUFBakIsRUFBMkIzQixJQUEzQixDQUFnQyxvQkFBaEMsQ0FGYjs7QUFJQSxXQUFTNkIsTUFBVCxHQUFrQjtBQUNqQixPQUFJQyxPQUFPNUMsRUFBRXVDLEtBQUYsRUFBUzNCLElBQVQsQ0FBYyxNQUFkLENBQVg7QUFBQSxPQUNFaUMsS0FBSzdDLEVBQUV1QyxLQUFGLEVBQVMzQixJQUFULENBQWMsSUFBZCxDQURQOztBQUdBWixLQUFFd0MsUUFBRixFQUFZTSxHQUFaLENBQWdCRixJQUFoQjtBQUNBNUMsS0FBRTBDLFFBQUYsRUFBWUksR0FBWixDQUFnQkQsRUFBaEI7QUFDQTs7QUFFRDdDLElBQUV1QyxLQUFGLEVBQVNRLGNBQVQsQ0FBd0I7QUFDdkJDLGtCQUFlLGVBRFE7QUFFdkJDLGlCQUFjLElBRlM7QUFHdkJDLGlCQUFjO0FBSFMsR0FBeEI7O0FBTUFQO0FBQ0EzQyxJQUFFdUMsS0FBRixFQUFTbkIsRUFBVCxDQUFZLFFBQVosRUFBc0J1QixNQUF0QjtBQUNBLEVBckJEOztBQXVCQTNDLEdBQUUsY0FBRixFQUFrQm9CLEVBQWxCLENBQXFCLFFBQXJCLEVBQStCLFlBQVc7QUFDekMsTUFBSW1CLFFBQVF2QyxFQUFFLElBQUYsRUFBUXlDLE9BQVIsQ0FBZ0IsUUFBaEIsRUFBMEIzQixJQUExQixDQUErQixxQkFBL0IsRUFBc0RGLElBQXRELENBQTJELGdCQUEzRCxDQUFaO0FBQUEsTUFDRWtDLE1BQU05QyxFQUFFLElBQUYsRUFBUThDLEdBQVIsRUFEUjtBQUFBLE1BRUVLLE1BQU1aLE1BQU1hLE9BQU4sQ0FBY0QsR0FGdEI7QUFBQSxNQUdFRSxNQUFNZCxNQUFNYSxPQUFOLENBQWNDLEdBSHRCO0FBQUEsTUFJRVQsT0FBT0wsTUFBTWEsT0FBTixDQUFjUixJQUp2QjtBQUFBLE1BS0VDLEtBQUtOLE1BQU1hLE9BQU4sQ0FBY1AsRUFMckI7QUFBQSxNQU1FUyxPQUFPZixNQUFNYSxPQUFOLENBQWNFLElBTnZCOztBQVFBLFVBQVF0RCxFQUFFLElBQUYsRUFBUVksSUFBUixDQUFhLE9BQWIsQ0FBUjtBQUNDLFFBQUssS0FBTDtBQUNDLFFBQUlrQyxPQUFPSyxHQUFYLEVBQWdCO0FBQ2ZMLFdBQU1LLEdBQU47QUFDQSxLQUZELE1BRU8sSUFBSUwsT0FBT08sR0FBWCxFQUFnQjtBQUN0QlAsV0FBTU8sTUFBTUMsSUFBWjtBQUNBLEtBRk0sTUFFQSxJQUFJUixPQUFPRCxFQUFYLEVBQWU7QUFDckJDLFdBQU1ELEtBQUtTLElBQVg7QUFDQTs7QUFFRGYsVUFBTUksTUFBTixDQUFhO0FBQ1pDLFdBQU1FO0FBRE0sS0FBYjtBQUdBO0FBQ0QsUUFBSyxLQUFMO0FBQ0MsUUFBSUEsT0FBT08sR0FBWCxFQUFnQjtBQUNmUCxXQUFNTyxHQUFOO0FBQ0EsS0FGRCxNQUVPLElBQUlQLE9BQU9LLEdBQVgsRUFBZ0I7QUFDdEJMLFdBQU1LLE1BQU1HLElBQVo7QUFDQSxLQUZNLE1BRUEsSUFBSVIsT0FBT0YsSUFBWCxFQUFpQjtBQUN2QkUsV0FBTUYsT0FBT1UsSUFBYjtBQUNBOztBQUVEZixVQUFNSSxNQUFOLENBQWE7QUFDWkUsU0FBSUM7QUFEUSxLQUFiO0FBR0E7QUExQkY7O0FBNkJBOUMsSUFBRSxJQUFGLEVBQVE4QyxHQUFSLENBQVlBLEdBQVo7QUFFQSxFQXhDRDs7QUEwQ0E7QUFDQSxVQUFTUyxNQUFULENBQWdCQyxLQUFoQixFQUF1QjtBQUN0QixNQUFJVixNQUFNOUMsRUFBRXdELEtBQUYsRUFBU1YsR0FBVCxHQUFlVyxJQUFmLEVBQVY7O0FBRUEsTUFBSVgsSUFBSVksTUFBSixHQUFhLENBQWpCLEVBQW9CO0FBQ25CMUQsS0FBRXdELEtBQUYsRUFBU2YsT0FBVCxDQUFpQixRQUFqQixFQUEyQmtCLFFBQTNCLENBQW9DLGNBQXBDO0FBQ0EsR0FGRCxNQUVPO0FBQ04zRCxLQUFFd0QsS0FBRixFQUFTZixPQUFULENBQWlCLFFBQWpCLEVBQTJCbUIsV0FBM0IsQ0FBdUMsY0FBdkM7QUFDQTtBQUNEOztBQUVENUQsR0FBRSwrQkFBRixFQUFtQ08sSUFBbkMsQ0FBd0MsWUFBVztBQUNsRGdELFNBQU8sSUFBUDtBQUNBLEVBRkQ7O0FBSUF2RCxHQUFFNkQsUUFBRixFQUFZekMsRUFBWixDQUFlLFNBQWYsRUFBMEIsK0JBQTFCLEVBQTJELFlBQVc7QUFDckUsTUFBSTBDLElBQUksSUFBUjtBQUNBQyxhQUFXLFlBQVc7QUFDckJSLFVBQU9PLENBQVA7QUFDQSxHQUZELEVBRUcsR0FGSDtBQUdBLEVBTEQ7O0FBUUE5RCxHQUFFLFNBQUYsRUFBYW9CLEVBQWIsQ0FBZ0IsT0FBaEIsRUFBeUIsVUFBUzRDLENBQVQsRUFBWTtBQUNwQ0EsSUFBRUMsZUFBRjtBQUNBLE1BQUlDLFVBQVVsRSxFQUFFLElBQUYsRUFBUWEsTUFBUixHQUFpQkMsSUFBakIsQ0FBc0JkLEVBQUUsTUFBSUEsRUFBRSxJQUFGLEVBQVFZLElBQVIsQ0FBYSxRQUFiLENBQU4sQ0FBdEIsQ0FBZDtBQUNBWixJQUFFLElBQUYsRUFBUW1FLFdBQVIsQ0FBb0IsY0FBcEI7QUFDQW5FLElBQUVrRSxPQUFGLEVBQVdFLElBQVgsR0FBa0JDLFdBQWxCLENBQThCLEdBQTlCO0FBQ0EsRUFMRDs7QUFPQXJFLEdBQUUsd0JBQUYsRUFBNEJPLElBQTVCLENBQWlDLFVBQVNDLENBQVQsRUFBWThELEtBQVosRUFBbUI7QUFDbkQsTUFBSUMsU0FBU3ZFLEVBQUVzRSxLQUFGLEVBQVN4RCxJQUFULENBQWMsV0FBZCxFQUEyQjRDLE1BQXhDOztBQUVBLE1BQUlhLFNBQVMsQ0FBYixFQUFnQjtBQUNmdkUsS0FBRXNFLEtBQUYsRUFBU1gsUUFBVCxDQUFrQiw0QkFBbEI7QUFDQTNELEtBQUVzRSxLQUFGLEVBQVNFLE1BQVQsQ0FBZ0Isc0RBQWhCO0FBQ0E7QUFDRCxFQVBEOztBQVNBeEUsR0FBRSxxQkFBRixFQUF5Qm9CLEVBQXpCLENBQTRCLE9BQTVCLEVBQXFDLFlBQVc7QUFDL0NwQixJQUFFLElBQUYsRUFBUWEsTUFBUixHQUFpQitDLFdBQWpCLENBQTZCLDRCQUE3QjtBQUNBNUQsSUFBRSxJQUFGLEVBQVF5RSxNQUFSO0FBQ0EsRUFIRDs7QUFLQXpFLEdBQUUsYUFBRixFQUFpQm9CLEVBQWpCLENBQW9CLE9BQXBCLEVBQTZCLFlBQVc7QUFDdkMsTUFBSSxDQUFDcEIsRUFBRSxJQUFGLEVBQVFxQixRQUFSLENBQWlCLGlCQUFqQixDQUFMLEVBQTBDO0FBQ3pDckIsS0FBRSxJQUFGLEVBQVEyRCxRQUFSLENBQWlCLG1CQUFqQixFQUFzQ2UsUUFBdEMsR0FBaURkLFdBQWpELENBQTZELG1CQUE3RDtBQUNBOztBQUVENUQsSUFBRSxJQUFGLEVBQVF5QyxPQUFSLENBQWdCLGFBQWhCLEVBQStCbUIsV0FBL0IsQ0FBMkMsV0FBM0M7QUFDQSxFQU5EOztBQVFBNUQsR0FBRTZELFFBQUYsRUFBWXpDLEVBQVosQ0FBZSxPQUFmLEVBQXdCLGFBQXhCLEVBQXVDLFlBQVc7O0FBRWpELE1BQUlSLE9BQU9aLEVBQUUsSUFBRixFQUFRWSxJQUFSLENBQWEsTUFBYixDQUFYOztBQUVBLE1BQUlBLFFBQVEsU0FBWixFQUF1QjtBQUN0QlosS0FBRSxZQUFGLEVBQWdCNEQsV0FBaEIsQ0FBNEIsV0FBNUI7QUFDQTVELEtBQUUsSUFBRixFQUFRYSxNQUFSLEdBQWlCNEIsT0FBakIsQ0FBeUIsYUFBekIsRUFBd0NrQixRQUF4QyxDQUFpRCxXQUFqRDtBQUNBLEdBSEQsTUFHTztBQUVQLEVBVEQ7O0FBV0EzRCxHQUFFNkQsUUFBRixFQUFZekMsRUFBWixDQUFlLE9BQWYsRUFBd0IsVUFBUzRDLENBQVQsRUFBWTs7QUFFbkMsTUFBSVcsT0FBTzNFLEVBQUVnRSxFQUFFWSxNQUFKLEVBQVkvRCxNQUFaLEdBQXFCNEIsT0FBckIsQ0FBNkIsYUFBN0IsRUFBNENyQyxHQUE1QyxDQUFnRCxDQUFoRCxDQUFYO0FBQUEsTUFDRXlFLE1BQU03RSxFQUFFZ0UsRUFBRVksTUFBSixFQUFZL0QsTUFBWixHQUFxQjRCLE9BQXJCLENBQTZCLE1BQTdCLEVBQXFDckMsR0FBckMsQ0FBeUMsQ0FBekMsQ0FEUjs7QUFHQSxNQUFJSixFQUFFZ0UsRUFBRVksTUFBSixFQUFZdkQsUUFBWixDQUFxQixtQkFBckIsQ0FBSixFQUErQzs7QUFFL0MsTUFBSSxDQUFDc0QsSUFBTCxFQUFXO0FBQ1YzRSxLQUFFLFlBQUYsRUFBZ0I0RCxXQUFoQixDQUE0QixXQUE1QjtBQUNBOztBQUVELE1BQUksQ0FBQ2lCLEdBQUwsRUFBVTtBQUNUN0UsS0FBRSxtQkFBRixFQUF1QmUsSUFBdkI7QUFDQWYsS0FBRSxrQkFBRixFQUFzQjhFLEdBQXRCLENBQTBCLFNBQTFCLEVBQXFDLEVBQXJDO0FBQ0E7QUFFRCxFQWhCRDs7QUFrQkE5RSxHQUFFLG9CQUFGLEVBQXdCb0IsRUFBeEIsQ0FBMkIsT0FBM0IsRUFBb0MsWUFBVztBQUM5Q3BCLElBQUUsSUFBRixFQUFRZSxJQUFSO0FBQ0FmLElBQUUscUJBQUYsRUFBeUJlLElBQXpCO0FBQ0FmLElBQUUsbUJBQUYsRUFBdUIrRSxJQUF2QjtBQUNBLEVBSkQ7O0FBTUEvRSxHQUFFLGNBQUYsRUFBa0JvQixFQUFsQixDQUFxQixPQUFyQixFQUE4QixVQUFTNEMsQ0FBVCxFQUFZO0FBQ3pDQSxJQUFFZ0IsY0FBRjs7QUFFQWhGLElBQUUsSUFBRixFQUFRYSxNQUFSLEdBQWlCRSxJQUFqQjtBQUNBZixJQUFFLElBQUYsRUFBUXlDLE9BQVIsQ0FBZ0IsT0FBaEIsRUFBeUJxQyxHQUF6QixDQUE2QixTQUE3QixFQUF3QyxFQUF4QztBQUNBLEVBTEQ7O0FBT0E5RSxHQUFFLFlBQUYsRUFBZ0JvQixFQUFoQixDQUFtQixPQUFuQixFQUE0QixZQUFXO0FBQ3RDcEIsSUFBRSxNQUFGLEVBQVU4RSxHQUFWLENBQWMsU0FBZCxFQUF5QixFQUF6QjtBQUNBOUUsSUFBRSxrQkFBRixFQUFzQjhFLEdBQXRCLENBQTBCLFNBQTFCLEVBQXFDLEdBQXJDO0FBQ0E5RSxJQUFFLE9BQUYsRUFBVzhFLEdBQVgsQ0FBZSxTQUFmLEVBQTBCLEVBQTFCO0FBQ0E5RSxJQUFFLG1CQUFGLEVBQXVCZSxJQUF2QjtBQUNBZixJQUFFLElBQUYsRUFBUWEsTUFBUixHQUFpQkMsSUFBakIsQ0FBc0IsbUJBQXRCLEVBQTJDaUUsSUFBM0M7QUFDQS9FLElBQUUsSUFBRixFQUFReUMsT0FBUixDQUFnQixPQUFoQixFQUF5QnFDLEdBQXpCLENBQTZCLFNBQTdCLEVBQXdDLEdBQXhDO0FBQ0E5RSxJQUFFLElBQUYsRUFBUXlDLE9BQVIsQ0FBZ0IsTUFBaEIsRUFBd0JxQyxHQUF4QixDQUE0QixTQUE1QixFQUF1QyxHQUF2QztBQUNBLEVBUkQ7O0FBVUE5RSxHQUFFLFlBQUYsRUFBZ0JpRixLQUFoQixDQUFzQixZQUFXO0FBQ2hDakYsSUFBRSxJQUFGLEVBQVFjLElBQVIsQ0FBYSxtQkFBYixFQUFrQ2lFLElBQWxDO0FBQ0EsRUFGRCxFQUVHLFlBQVc7QUFDYi9FLElBQUUsbUJBQUYsRUFBdUJlLElBQXZCO0FBQ0EsRUFKRDs7QUFNQTtBQUNBLEtBQUltRSxNQUFNLENBQVY7O0FBRUFsRixHQUFFLG1CQUFGLEVBQXVCb0IsRUFBdkIsQ0FBMEIsT0FBMUIsRUFBbUMsWUFBVzs7QUFFN0MsTUFBSXBCLEVBQUUsSUFBRixFQUFRcUIsUUFBUixDQUFpQix3QkFBakIsQ0FBSixFQUFnRDtBQUMvQyxPQUFJOEQsUUFBUW5GLEVBQUUsSUFBRixFQUFRYyxJQUFSLENBQWEsT0FBYixFQUFzQnNFLEtBQXRCLEVBQVo7O0FBRUFwRixLQUFFLDZCQUFGLEVBQWlDcUYsSUFBakMsQ0FBc0NGLEtBQXRDOztBQUVBbkYsS0FBRSxhQUFGLEVBQWlCc0YsUUFBakIsQ0FBMEIsTUFBMUI7QUFFQTtBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBZEEsT0FlSztBQUNKLFFBQUlDLE1BQU12RixFQUFFLElBQUYsRUFBUWMsSUFBUixDQUFhLEtBQWIsRUFBb0JzRSxLQUFwQixFQUFWO0FBQUEsUUFDRUksT0FBT3hGLEVBQUV1RixHQUFGLEVBQU9FLElBQVAsQ0FBWSxLQUFaLENBRFQ7O0FBR0F6RixNQUFFdUYsR0FBRixFQUFPRSxJQUFQLENBQVk7QUFDWCxXQUFNLFVBQVFQLEdBREg7QUFFWCwyQkFBc0JNLElBRlg7QUFHWCwrQkFBMEI7QUFIZixLQUFaOztBQU1BeEYsTUFBRSxJQUFGLEVBQVF5QyxPQUFSLENBQWdCLFVBQWhCLEVBQTRCM0IsSUFBNUIsQ0FBaUMsZ0JBQWpDLEVBQW1EMkUsSUFBbkQsQ0FBd0QsTUFBeEQsRUFBZ0VELElBQWhFLEVBQXNFRSxLQUF0RSxHQUE4RWxCLE1BQTlFLENBQXFGZSxHQUFyRjs7QUFFQXZGLE1BQUUsSUFBRixFQUFReUMsT0FBUixDQUFnQixnQkFBaEIsRUFBa0MzQixJQUFsQyxDQUF1QywwQkFBdkMsRUFBbUU4QyxXQUFuRSxDQUErRSx5QkFBL0U7QUFDQTVELE1BQUUsSUFBRixFQUFRMkQsUUFBUixDQUFpQix5QkFBakI7O0FBRUEzRCxNQUFFLG1CQUFGLEVBQXVCMEYsS0FBdkI7QUFDQXhFLE1BQUV5RSxNQUFGLENBQVMsRUFBQ0MsT0FBTyxXQUFTVixHQUFqQixFQUFUOztBQUVBLFFBQUlXLFdBQVc3RixFQUFFdUYsR0FBRixFQUFPTyxNQUFQLEVBQWY7QUFDQSxRQUFJQyxZQUFZL0YsRUFBRXVGLEdBQUYsRUFBTzFFLE1BQVAsR0FBZ0JpRixNQUFoQixFQUFoQjtBQUNBLFFBQUlFLFNBQVNILFNBQVNJLElBQVQsR0FBZ0JGLFVBQVVFLElBQXZDOztBQUVBakcsTUFBRXVGLEdBQUYsRUFBT1csSUFBUCxHQUFjcEIsR0FBZCxDQUFrQixhQUFsQixFQUFpQ2tCLFNBQU8sSUFBeEM7O0FBRUFkOztBQUVBbEYsTUFBRSxvQkFBRixFQUF3QmlGLEtBQXhCLENBQThCLFlBQVc7QUFDeENqRixPQUFFLG1CQUFGLEVBQXVCMkQsUUFBdkIsQ0FBZ0Msd0JBQWhDO0FBQ0EsS0FGRCxFQUVHLFlBQVc7QUFDYjNELE9BQUUsbUJBQUYsRUFBdUI0RCxXQUF2QixDQUFtQyx3QkFBbkM7QUFDQSxLQUpEO0FBTUE7QUFFRCxFQW5ERDs7QUFxREE1RCxHQUFFLGFBQUYsRUFBaUJPLElBQWpCLENBQXNCLFVBQVNDLENBQVQsRUFBWTJGLElBQVosRUFBa0I7QUFDdkMsTUFBSXBCLE9BQU8vRSxFQUFFbUcsSUFBRixFQUFRdkYsSUFBUixDQUFhLE1BQWIsQ0FBWDtBQUFBLE1BQ0V3RixPQUFPcEcsRUFBRW1HLElBQUYsRUFBUXJGLElBQVIsQ0FBYSxxQ0FBYixFQUFvRFYsR0FBcEQsQ0FBd0QyRSxJQUF4RCxDQURUOztBQUdBL0UsSUFBRW9HLElBQUYsRUFBUXJGLElBQVIsR0FBZXNGLE9BQWYsQ0FBdUIseUJBQXZCLEVBQWtEdEYsSUFBbEQ7QUFDQSxFQUxEOztBQU9BZixHQUFFLGNBQUYsRUFBa0JvQixFQUFsQixDQUFxQixPQUFyQixFQUE4QixZQUFXO0FBQ3hDcEIsSUFBRSxJQUFGLEVBQVF5QyxPQUFSLENBQWdCLFFBQWhCLEVBQTBCMEIsV0FBMUIsQ0FBc0MsZUFBdEM7QUFDQSxFQUZEOztBQUlBOztBQUVBSixZQUFXLFlBQVc7QUFDckIvRCxJQUFFLGNBQUYsRUFBa0JzRixRQUFsQixDQUEyQjtBQUMxQmdCLGNBQVcsbUJBQVNDLENBQVQsRUFBVztBQUNyQixRQUFJcEIsUUFBUW9CLEVBQUVDLFFBQUYsQ0FBVzFGLElBQVgsQ0FBZ0IsT0FBaEIsRUFBeUJWLEdBQXpCLENBQTZCLENBQTdCLENBQVo7O0FBRUEsUUFBSStFLEtBQUosRUFBVztBQUNWQSxXQUFNc0IsS0FBTjtBQUNBO0FBQ0Q7QUFQeUIsR0FBM0I7QUFTQSxFQVZELEVBVUcsQ0FWSDs7QUFhQXpHLEdBQUUsYUFBRixFQUFpQm9CLEVBQWpCLENBQW9CLE9BQXBCLEVBQTZCLFVBQVM0QyxDQUFULEVBQVk7QUFDeENBLElBQUVnQixjQUFGOztBQUVBLE1BQUk5RCxJQUFJbEIsRUFBRSxJQUFGLEVBQVFZLElBQVIsQ0FBYSxNQUFiLENBQVI7QUFDQVosSUFBRSxpQkFBZWtCLENBQWYsR0FBaUIsR0FBbkIsRUFBd0JvRSxRQUF4QixDQUFpQyxNQUFqQztBQUNBLEVBTEQ7O0FBUUF0RixHQUFFLDhCQUFGLEVBQWtDb0IsRUFBbEMsQ0FBcUMsT0FBckMsRUFBOEMsVUFBUzRDLENBQVQsRUFBWTtBQUN6REEsSUFBRWdCLGNBQUY7O0FBRUEsTUFBSU8sTUFBTXZGLEVBQUUsSUFBRixFQUFRYyxJQUFSLENBQWEsS0FBYixFQUFvQnNFLEtBQXBCLEVBQVY7O0FBRUFwRixJQUFFLDZCQUFGLEVBQWlDcUYsSUFBakMsQ0FBc0NFLEdBQXRDOztBQUVBdkYsSUFBRSxhQUFGLEVBQWlCc0YsUUFBakIsQ0FBMEIsTUFBMUI7QUFDQSxFQVJEOztBQVdBdEYsR0FBRSxnQkFBRixFQUFvQm9CLEVBQXBCLENBQXVCLE9BQXZCLEVBQWdDLFlBQVc7QUFDMUNwQixJQUFFLG9DQUFGLEVBQXdDTSxPQUF4QyxDQUFnRCxPQUFoRDtBQUNBTixJQUFFLFNBQUYsRUFBYVcsTUFBYjtBQUNBLEVBSEQ7O0FBS0FYLEdBQUUsaUJBQUYsRUFBcUJvQixFQUFyQixDQUF3QixPQUF4QixFQUFpQyxZQUFXO0FBQzNDLE1BQUksQ0FBQ3BCLEVBQUUsT0FBRixFQUFXcUIsUUFBWCxDQUFvQixhQUFwQixDQUFMLEVBQXlDO0FBQ3hDLE9BQU1xRixJQUFJMUcsRUFBRSxrQkFBRixFQUFzQjJHLE1BQXRCLEVBQVY7QUFDQTNHLEtBQUUsT0FBRixFQUFXMkQsUUFBWCxDQUFvQixhQUFwQixFQUFtQ21CLEdBQW5DLENBQXVDLFFBQXZDLEVBQWlENEIsSUFBRSxJQUFuRDtBQUNBMUcsS0FBRSxXQUFGLEVBQWU4RSxHQUFmLENBQW1CLFlBQW5CLEVBQWlDLFFBQWpDO0FBRUEsR0FMRCxNQUtPO0FBQ045RSxLQUFFLE9BQUYsRUFBVzRELFdBQVgsQ0FBdUIsYUFBdkIsRUFBc0NrQixHQUF0QyxDQUEwQyxRQUExQyxFQUFvRCxFQUFwRDtBQUNBOUUsS0FBRSxXQUFGLEVBQWU4RSxHQUFmLENBQW1CLFVBQW5CLEVBQStCLEVBQS9CO0FBQ0E7O0FBRUQ5RSxJQUFFQyxNQUFGLEVBQVUyRyxTQUFWLENBQW9CLENBQXBCOztBQUVBNUcsSUFBRSxrQkFBRixFQUFzQlcsTUFBdEI7QUFDQSxFQWREOztBQWdCQVgsR0FBRSxvQkFBRixFQUF3Qm9CLEVBQXhCLENBQTJCLE9BQTNCLEVBQW9DLFVBQVM0QyxDQUFULEVBQVk7QUFDL0NBLElBQUVDLGVBQUY7O0FBRUEsTUFBSVUsT0FBTzNFLEVBQUUsSUFBRixFQUFRYyxJQUFSLENBQWEsZUFBYixFQUE4QlQsS0FBOUIsRUFBWDtBQUFBLE1BQ0V3RyxVQUFVQyxRQUFROUcsRUFBRSxJQUFGLEVBQVF5QyxPQUFSLENBQWdCLHVCQUFoQixFQUF5Q3JDLEdBQXpDLENBQTZDLENBQTdDLENBQVIsS0FBNEQwRyxRQUFROUcsRUFBRSxJQUFGLEVBQVFjLElBQVIsQ0FBYSx1QkFBYixFQUFzQ1YsR0FBdEMsQ0FBMEMsQ0FBMUMsQ0FBUixDQUR4RTs7QUFHQSxNQUFJSixFQUFFZ0UsRUFBRVksTUFBSixFQUFZbUMsWUFBWixDQUF5QixvQkFBekIsRUFBK0NyRCxNQUEvQyxJQUF5RCxDQUE3RCxFQUFnRTtBQUMvRDFELEtBQUUyRSxJQUFGLEVBQVFSLFdBQVIsQ0FBb0IsbUJBQXBCOztBQUVBLE9BQUksQ0FBQzBDLE9BQUwsRUFBYztBQUNiLFFBQU1ILElBQUkxRyxFQUFFLGtCQUFGLEVBQXNCMkcsTUFBdEIsRUFBVjtBQUNBM0csTUFBRSxPQUFGLEVBQVc4RSxHQUFYLENBQWUsUUFBZixFQUF5QjRCLENBQXpCO0FBQ0E7QUFDQTs7QUFFRCxPQUFJMUcsRUFBRTJFLElBQUYsRUFBUXRELFFBQVIsQ0FBaUIsbUJBQWpCLENBQUosRUFBMkM7QUFDMUMsUUFBTXFGLEtBQUkxRyxFQUFFMkUsSUFBRixFQUFRN0QsSUFBUixDQUFhLGVBQWIsRUFBOEJULEtBQTlCLEdBQXNDc0csTUFBdEMsRUFBVjtBQUNBM0csTUFBRSxPQUFGLEVBQVc4RSxHQUFYLENBQWUsUUFBZixFQUF5QjRCLEVBQXpCO0FBQ0EsSUFIRCxNQUdPO0FBQ04sUUFBTUEsTUFBSTFHLEVBQUUsSUFBRixFQUFReUMsT0FBUixDQUFnQixlQUFoQixFQUFpQ2tFLE1BQWpDLEVBQVY7QUFDQTNHLE1BQUUsT0FBRixFQUFXOEUsR0FBWCxDQUFlLFFBQWYsRUFBeUI0QixHQUF6QjtBQUVBO0FBQ0Q7QUFFRCxFQXpCRDs7QUEyQkExRyxHQUFFLGVBQUYsRUFBbUJvQixFQUFuQixDQUFzQixPQUF0QixFQUErQixVQUFTNEMsQ0FBVCxFQUFZO0FBQzFDQSxJQUFFQyxlQUFGOztBQUVBakUsSUFBRSxJQUFGLEVBQVF5QyxPQUFSLENBQWdCLG9CQUFoQixFQUFzQ21CLFdBQXRDLENBQWtELG1CQUFsRDs7QUFFQSxNQUFNOEMsSUFBSTFHLEVBQUUsa0JBQUYsRUFBc0IyRyxNQUF0QixFQUFWO0FBQ0EzRyxJQUFFLE9BQUYsRUFBVzhFLEdBQVgsQ0FBZSxRQUFmLEVBQXlCNEIsQ0FBekI7QUFDQTtBQUNBLEVBUkQ7O0FBVUExRyxHQUFFLGlCQUFGLEVBQXFCb0IsRUFBckIsQ0FBd0IsT0FBeEIsRUFBaUMsVUFBUzRDLENBQVQsRUFBWTtBQUM1Q0EsSUFBRWdCLGNBQUY7O0FBRUEsTUFBSXBFLE9BQU9aLEVBQUUsSUFBRixFQUFRYSxNQUFSLEdBQWlCRCxJQUFqQixDQUFzQixNQUF0QixDQUFYO0FBQUEsTUFDRW9HLFFBQVFoSCxFQUFFLElBQUYsRUFBUWdILEtBQVIsRUFEVjtBQUFBLE1BRUU5QyxVQUFVbEUsRUFBRSx3QkFBc0JZLElBQXRCLEdBQTJCLEdBQTdCLEVBQWtDRixRQUFsQyxHQUE2Q04sR0FBN0MsQ0FBaUQ0RyxLQUFqRCxDQUZaOztBQUlBaEgsSUFBRWtFLE9BQUYsRUFBV2EsSUFBWCxHQUFrQkwsUUFBbEIsR0FBNkIzRCxJQUE3Qjs7QUFFQSxNQUFJLENBQUNtRCxPQUFMLEVBQWM7QUFDYmxFLEtBQUUsd0JBQXNCWSxJQUF0QixHQUEyQixHQUE3QixFQUFrQ0YsUUFBbEMsR0FBNkNLLElBQTdDO0FBQ0E7O0FBRURmLElBQUUsSUFBRixFQUFRMkQsUUFBUixDQUFpQixRQUFqQixFQUEyQmUsUUFBM0IsR0FBc0NkLFdBQXRDLENBQWtELFFBQWxEO0FBQ0EsRUFkRDs7QUFnQkE1RCxHQUFFLFFBQUYsRUFBWW9CLEVBQVosQ0FBZSxPQUFmLEVBQXdCLFlBQVc7QUFDbEMsTUFBSTZGLEtBQUtqSCxFQUFFLElBQUYsRUFBUVksSUFBUixDQUFhLElBQWIsQ0FBVDs7QUFFQVosSUFBRSxNQUFJaUgsRUFBTixFQUFVM0IsUUFBVixDQUFtQixNQUFuQjtBQUNBLEVBSkQ7O0FBTUF0RixHQUFFLGlCQUFGLEVBQXFCb0IsRUFBckIsQ0FBd0IsT0FBeEIsRUFBaUMsVUFBUzRDLENBQVQsRUFBWTtBQUM1Q0EsSUFBRUMsZUFBRjs7QUFFQWpFLElBQUUsSUFBRixFQUFReUMsT0FBUixDQUFnQixXQUFoQixFQUE2QjBCLFdBQTdCLENBQXlDLGlCQUF6QztBQUNBLEVBSkQ7O0FBTUEsS0FBSStDLFNBQUo7QUFBQSxLQUNFQyxRQUFRdEQsU0FBU3VELGFBQVQsQ0FBdUIsU0FBdkIsQ0FEVjs7QUFHQXZELFVBQVN3RCxnQkFBVCxDQUEwQixRQUExQixFQUFvQyxVQUFTckQsQ0FBVCxFQUFZO0FBQzlDa0QsY0FBWSxDQUFDakgsT0FBT3FILFdBQVAsSUFBc0J6RCxTQUFTMEQsSUFBVCxDQUFjWCxTQUFyQyxLQUFvRC9DLFNBQVMwRCxJQUFULENBQWNDLFNBQWQsSUFBMkIsQ0FBL0UsQ0FBWjs7QUFFQSxNQUFJeEgsRUFBRWdFLEVBQUVZLE1BQUosRUFBWW5DLE9BQVosQ0FBb0IsVUFBcEIsRUFBZ0NyQyxHQUFoQyxDQUFvQyxDQUFwQyxDQUFKLEVBQTRDOztBQUU1QyxNQUFJSixFQUFFQyxNQUFGLEVBQVVDLEtBQVYsS0FBb0IsR0FBeEIsRUFBNkI7QUFDNUIsT0FBSWdILGFBQWEsR0FBakIsRUFBc0I7QUFDckJsSCxNQUFFLGNBQUYsRUFBa0IyRCxRQUFsQixDQUEyQixrQkFBM0I7QUFDQTNELE1BQUUsVUFBRixFQUFjeUgsUUFBZCxDQUF1QixzQkFBdkI7QUFDQSxJQUhELE1BR08sSUFBSXpILEVBQUUsY0FBRixFQUFrQnFCLFFBQWxCLENBQTJCLGtCQUEzQixDQUFKLEVBQW9EO0FBQzFEckIsTUFBRSxjQUFGLEVBQWtCNEQsV0FBbEIsQ0FBOEIsa0JBQTlCO0FBQ0E1RCxNQUFFLFVBQUYsRUFBY3lILFFBQWQsQ0FBdUIsdUJBQXZCO0FBQ0E7QUFDRCxHQVJELE1BUU87QUFDTixPQUFJUCxhQUFhLEVBQWIsSUFBbUIsQ0FBQ2xILEVBQUUsT0FBRixFQUFXcUIsUUFBWCxDQUFvQixhQUFwQixDQUF4QixFQUE0RDtBQUMzRHJCLE1BQUUsaUJBQUYsRUFBcUIyRCxRQUFyQixDQUE4QixvQkFBOUI7QUFDQSxJQUZELE1BRU8sSUFBSTNELEVBQUUsaUJBQUYsRUFBcUJxQixRQUFyQixDQUE4QixvQkFBOUIsQ0FBSixFQUF5RDtBQUMvRHJCLE1BQUUsaUJBQUYsRUFBcUI0RCxXQUFyQixDQUFpQyxvQkFBakM7QUFDQTtBQUVEOztBQUVELE1BQUlzRCxhQUFhLElBQWIsSUFBcUJuSCxjQUFjLEdBQXZDLEVBQTRDO0FBQzNDb0gsU0FBTU8sU0FBTixDQUFnQkMsR0FBaEIsQ0FBb0IsYUFBcEI7QUFDQSxHQUZELE1BRU87QUFDTlIsU0FBTU8sU0FBTixDQUFnQmpELE1BQWhCLENBQXVCLGFBQXZCO0FBQ0E7QUFDRixFQTNCRCxFQTJCRyxJQTNCSDs7QUE2QkF6RSxHQUFFLFNBQUYsRUFBYW9CLEVBQWIsQ0FBZ0IsT0FBaEIsRUFBeUIsWUFBVztBQUNuQ3BCLElBQUUsWUFBRixFQUFnQm9FLElBQWhCLEdBQXVCd0QsT0FBdkIsQ0FBK0IsRUFBQ2hCLFdBQVUsQ0FBWCxFQUEvQixFQUE4QyxHQUE5QyxFQUFtRCxPQUFuRDtBQUNBLEVBRkQ7O0FBSUE1RyxHQUFFLG9CQUFGLEVBQXdCb0IsRUFBeEIsQ0FBMkIsT0FBM0IsRUFBb0MsVUFBUzRDLENBQVQsRUFBWTtBQUMvQ0EsSUFBRWdCLGNBQUY7O0FBRUFoRixJQUFFLE9BQUYsRUFBVzhFLEdBQVgsQ0FBZSxTQUFmLEVBQTBCLEVBQTFCOztBQUVBOUUsSUFBRSxtQkFBRixFQUF1QmUsSUFBdkI7QUFDQWYsSUFBRSxNQUFGLEVBQVU4RSxHQUFWLENBQWMsU0FBZCxFQUF5QixFQUF6QjtBQUNBOUUsSUFBRSxJQUFGLEVBQVFhLE1BQVIsR0FBaUJDLElBQWpCLENBQXNCLG1CQUF0QixFQUEyQ1QsS0FBM0MsR0FBbUQwRSxJQUFuRDtBQUNBL0UsSUFBRSxJQUFGLEVBQVF5QyxPQUFSLENBQWdCLE9BQWhCLEVBQXlCcUMsR0FBekIsQ0FBNkIsU0FBN0IsRUFBd0MsR0FBeEM7QUFDQTlFLElBQUUsSUFBRixFQUFRYSxNQUFSLEdBQWlCQyxJQUFqQixDQUFzQixNQUF0QixFQUE4QmdFLEdBQTlCLENBQWtDLFNBQWxDLEVBQTZDLEdBQTdDOztBQUVBLE1BQUk5RSxFQUFFLGtCQUFGLEVBQXNCSSxHQUF0QixDQUEwQixDQUExQixDQUFKLEVBQWtDO0FBQ2pDSixLQUFFLGtCQUFGLEVBQXNCOEUsR0FBdEIsQ0FBMEIsU0FBMUIsRUFBcUMsR0FBckM7QUFDQTtBQUNELEVBZEQ7O0FBZ0JBO0FBQ0E5RSxHQUFFLHNCQUFGLEVBQTBCb0IsRUFBMUIsQ0FBNkIsT0FBN0IsRUFBc0MsWUFBVztBQUNoRHBCLElBQUUsSUFBRixFQUFReUMsT0FBUixDQUFnQixTQUFoQixFQUEyQmtCLFFBQTNCLENBQW9DLGNBQXBDO0FBQ0EzRCxJQUFFLE9BQUYsRUFBV3dFLE1BQVgsQ0FBa0IsNkJBQWxCO0FBQ0EsRUFIRDs7QUFLQXhFLEdBQUU2RCxRQUFGLEVBQVl6QyxFQUFaLENBQWUsT0FBZixFQUF3QixVQUF4QixFQUFvQyxVQUFTNEMsQ0FBVCxFQUFZO0FBQy9DaEUsSUFBRSxTQUFGLEVBQWE0RCxXQUFiLENBQXlCLGNBQXpCO0FBQ0E1RCxJQUFFLElBQUYsRUFBUXlFLE1BQVI7QUFDQSxFQUhEOztBQUtBekUsR0FBRSxtQ0FBRixFQUF1Q29CLEVBQXZDLENBQTBDLE9BQTFDLEVBQW1ELFVBQVM0QyxDQUFULEVBQVk7QUFDOURBLElBQUVnQixjQUFGO0FBQ0EsRUFGRDs7QUFJQWhGLEdBQUUsY0FBRixFQUFrQm9CLEVBQWxCLENBQXFCLE9BQXJCLEVBQThCLFVBQVM0QyxDQUFULEVBQVk7QUFDekNBLElBQUVnQixjQUFGO0FBQ0EsTUFBSWlDLEtBQUtqSCxFQUFFLElBQUYsRUFBUXlGLElBQVIsQ0FBYSxNQUFiLENBQVQ7O0FBRUV6RixJQUFFLFlBQUYsRUFBZ0I0SCxPQUFoQixDQUF3QjtBQUNwQmhCLGNBQVc1RyxFQUFFaUgsRUFBRixFQUFNbkIsTUFBTixHQUFlK0IsR0FBZixHQUFxQjdILEVBQUUsTUFBRixFQUFVNEcsU0FBVixFQUFyQixHQUE2QztBQURwQyxHQUF4QixFQUVHLElBRkg7QUFJRixFQVJEOztBQVVBNUcsR0FBRSxjQUFGLEVBQWtCb0IsRUFBbEIsQ0FBcUIsT0FBckIsRUFBOEIsVUFBUzRDLENBQVQsRUFBWTtBQUN6Q0EsSUFBRWdCLGNBQUY7QUFDQWhCLElBQUVDLGVBQUY7O0FBRUFqRSxJQUFFLElBQUYsRUFBUXlDLE9BQVIsQ0FBZ0IsWUFBaEIsRUFBOEJtQixXQUE5QixDQUEwQyxXQUExQztBQUNBLEVBTEQ7O0FBT0EsS0FBSWtFLHFCQUFxQixDQUF6Qjs7QUFFQTlILEdBQUUsZ0JBQUYsRUFBb0JxRyxPQUFwQixHQUE4QjlGLElBQTlCLENBQW1DLFVBQVNDLENBQVQsRUFBWXVILEVBQVosRUFBZ0I7QUFDbERELHdCQUFzQjlILEVBQUUrSCxFQUFGLEVBQU1wQixNQUFOLEVBQXRCO0FBQ0EsRUFGRDs7QUFJQTs7QUFFQTNHLEdBQUUsb0JBQUYsRUFBd0JvQixFQUF4QixDQUEyQixPQUEzQixFQUFvQyxVQUFTNEMsQ0FBVCxFQUFZO0FBQy9DLE1BQUlqRSxlQUFlLEdBQW5CLEVBQXdCOztBQUV2QixPQUFJK0QsSUFBSTlELEVBQUVnRSxFQUFFWSxNQUFKLEVBQVkvRCxNQUFaLEdBQXFCLENBQXJCLENBQVI7O0FBRUEsT0FBSSxDQUFDYixFQUFFOEQsQ0FBRixFQUFLekMsUUFBTCxDQUFjLGdCQUFkLENBQUwsRUFBc0MyQyxFQUFFZ0IsY0FBRjs7QUFFdEMsT0FBTUwsT0FBTzNFLEVBQUVnRSxFQUFFWSxNQUFKLEVBQVluQyxPQUFaLENBQW9CLElBQXBCLEVBQTBCM0IsSUFBMUIsQ0FBK0IsV0FBL0IsRUFBNEMsQ0FBNUMsQ0FBYjs7QUFFQSxPQUFJNkQsSUFBSixFQUFVO0FBQ1QsUUFBSTNFLEVBQUUyRSxJQUFGLEVBQVF0RCxRQUFSLENBQWlCLGVBQWpCLENBQUosRUFBdUM7QUFDdENyQixPQUFFMkUsSUFBRixFQUFRZixXQUFSLENBQW9CLGVBQXBCO0FBQ0EsS0FGRCxNQUVPO0FBQ041RCxPQUFFMkUsSUFBRixFQUFRaEIsUUFBUixDQUFpQixlQUFqQjtBQUNBO0FBQ0Q7QUFDRDtBQUNELEVBakJEOztBQW1CQTNELEdBQUUsdUJBQUYsRUFBMkJvQixFQUEzQixDQUE4QixPQUE5QixFQUF1QyxVQUFTNEMsQ0FBVCxFQUFZO0FBQ2xELE1BQUlqRSxlQUFlLEdBQW5CLEVBQXdCO0FBQ3ZCLE9BQU1pSSxVQUFVaEksRUFBRSxJQUFGLEVBQVFhLE1BQVIsR0FBaUJRLFFBQWpCLENBQTBCLHFCQUExQixDQUFoQjs7QUFFQSxPQUFJMkcsT0FBSixFQUFhO0FBQ1poSSxNQUFFLElBQUYsRUFBUWEsTUFBUixHQUFpQitDLFdBQWpCLENBQTZCLHFCQUE3QjtBQUNBLElBRkQsTUFFTztBQUNOSSxNQUFFZ0IsY0FBRjtBQUNBaEYsTUFBRSxzQkFBRixFQUEwQjRELFdBQTFCLENBQXNDLHFCQUF0QztBQUNBNUQsTUFBRSxJQUFGLEVBQVFhLE1BQVIsR0FBaUI4QyxRQUFqQixDQUEwQixxQkFBMUI7QUFDQTtBQUNEO0FBQ0QsRUFaRDs7QUFjQTs7QUFFQSxVQUFTcEMsVUFBVCxHQUFzQjtBQUNyQnZCLElBQUUseUJBQUYsRUFBNkJpSSxNQUE3QixDQUFvQztBQUNuQ0MsZUFBWSxFQUR1QjtBQUVuQ0Msa0JBQWVuSSxFQUFFLFNBQUYsRUFBYTJHLE1BQWIsS0FBd0IzRyxFQUFFLHlCQUFGLEVBQTZCOEYsTUFBN0IsR0FBc0MrQjtBQUYxQyxHQUFwQztBQUlBOztBQUVELEtBQUk5SCxjQUFjLEdBQWQsSUFBcUJDLEVBQUUseUJBQUYsRUFBNkJJLEdBQTdCLENBQWlDLENBQWpDLENBQXpCLEVBQThEbUI7O0FBRTlEdkIsR0FBRSxjQUFGLEVBQWtCTyxJQUFsQixDQUF1QixVQUFTQyxDQUFULEVBQVk4RCxLQUFaLEVBQW1CO0FBQ3pDLE1BQUk4RCxRQUFRcEksRUFBRXNFLEtBQUYsRUFBU3hELElBQVQsQ0FBYyxxQkFBZCxDQUFaO0FBQ0EsTUFBSWQsRUFBRW9JLEtBQUYsRUFBU3pCLE1BQVQsTUFBcUIsR0FBekIsRUFBOEI7QUFDN0IzRyxLQUFFb0ksS0FBRixFQUFTekUsUUFBVCxDQUFrQiw2QkFBbEI7QUFDQTtBQUNELEVBTEQ7O0FBT0F4RDtBQUdBLENBNWtCRCxFQTRrQkdGLE1BNWtCSCIsImZpbGUiOiJzY3JpcHQuanMiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24ocm9vdCkge1xuXG5cdC8vINCY0L3QuNGG0LjQsNC70LjQt9Cw0YbQuNGPINC/0YDQuNC70LTQvtC20LXQvdC40Y9cblx0dmFyIHdpbmRvd1dpZHRoID0gJCh3aW5kb3cpLndpZHRoKCk7XG5cblx0ZnVuY3Rpb24gaW5pdCgpIHtcblxuXHRcdGlmICgkKCcuZ2FsbGVyeScpLmdldCgwKSkge1xuXHRcdFx0JCgnLmdhbGxlcnlfX2VsZW1lbnQnKS5maXJzdCgpLnRyaWdnZXIoJ2NsaWNrJyk7XG5cdFx0fVxuXG5cdFx0JCgnW2RhdGEtdGFic10nKS5lYWNoKGZ1bmN0aW9uKGksIHRhYnMpIHtcblx0XHRcdCQodGFicykuY2hpbGRyZW4oKS5maXJzdCgpLnRyaWdnZXIoJ2NsaWNrJyk7XG5cdFx0fSk7XG5cblx0XHQkKCcudG9nZ2xlX2Nsb3NlJykuZWFjaChmdW5jdGlvbihpLCB0b2dnbGUpIHtcblx0XHRcdHZhciBkYXRhID0gJCh0aGlzKS5kYXRhKCd0b2dnbGUnKTtcblxuXHRcdFx0JCh0aGlzKS5wYXJlbnQoKS5maW5kKCcuJytkYXRhKS5oaWRlKCk7XG5cdFx0fSk7XG5cdH07XG5cblx0dmFyIGV2dCA9IG5ldyBFdmVudCgpLFxuICBcdFx0bSA9IG5ldyBNYWduaWZpZXIoZXZ0KTtcblxuXHQkKHdpbmRvdykub24oJ3Jlc2l6ZScsIGZ1bmN0aW9uKCkge1xuXHRcdHdpbmRvd1dpZHRoID0gJCh3aW5kb3cpLndpZHRoKCk7XG5cblx0XHRpZiAod2luZG93V2lkdGggPD0gOTYwICYmICQoJy5jb250YWluZXJfX3NpZGUtc2Nyb2xsJykucGFyZW50KCkuaGFzQ2xhc3MoJ3N0aWNreS13cmFwcGVyJykpIHtcblx0XHRcdCQoJy5jb250YWluZXJfX3NpZGUtc2Nyb2xsJykudW5zdGljaygpO1xuXHRcdH0gZWxzZSBpZiAod2luZG93V2lkdGggPiA5NjAgJiYgJCgnLmNvbnRhaW5lcl9fc2lkZS1zY3JvbGwnKS5nZXQoMCkgJiYgISQoJy5jb250YWluZXJfX3NpZGUtc2Nyb2xsJykucGFyZW50KCkuaGFzQ2xhc3MoJ3N0aWNreS13cmFwcGVyJykpIHtcblx0XHRcdHN0aWNreVNpZGUoKTtcblx0XHR9XG5cdH0pO1xuXG5cdC8vINCh0LvQsNC50LTQtdGA0Ytcblx0dmFyIGRhdGFTbGlkZXJzID0ge1xuXHRcdGZlYXV0dXJlczoge1xuXHRcdFx0aXRlbXM6IDYsXG5cdFx0XHRuYXY6IHRydWVcblx0XHR9LFxuXHRcdGdhbGxlcnk6IHtcblx0XHRcdGl0ZW1zOiAxLFxuXHRcdFx0bmF2OiB0cnVlLFxuXHRcdFx0ZG90czogdHJ1ZSxcblx0XHRcdG1vdXNlRHJhZzogZmFsc2UsXG5cdFx0XHRyZXNwb25zaXZlOiB7XG5cdFx0XHRcdDk2MToge1xuXHRcdFx0XHRcdGl0ZW1zOiA0LFxuXHRcdFx0XHRcdGRvdHM6IGZhbHNlXG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9LFxuXHRcdHByb21vOiB7XG5cdFx0XHRpdGVtczogMSxcblx0XHRcdGRvdHM6IHRydWUsXG5cdFx0XHRsb29wOiB0cnVlLFxuXHRcdFx0YXV0b3BsYXk6IHRydWUsXG5cdFx0fSxcblx0XHRzaG9wOiB7XG5cdFx0XHRpdGVtczogMSxcblx0XHRcdGxvb3A6IHRydWUsXG5cdFx0XHRuYXY6IGZhbHNlLFxuXHRcdFx0Y2VudGVyOiBmYWxzZSxcblx0XHRcdHJlc3BvbnNpdmU6IHtcblx0XHRcdFx0NjgwOiB7XG5cdFx0XHRcdFx0aXRlbXM6IDMsXG5cdFx0XHRcdFx0Y2VudGVyOiB0cnVlLFxuXHRcdFx0XHRcdG5hdjogdHJ1ZSxcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdCQoJ1tkYXRhLXNsaWRlcl0nKS5lYWNoKGZ1bmN0aW9uKGksIHNsaWRlcikge1xuXHRcdHZhciBkYXRhID0gJCh0aGlzKS5kYXRhKCdzbGlkZXInKTtcblxuXHRcdCQoc2xpZGVyKS5vd2xDYXJvdXNlbChkYXRhU2xpZGVyc1tkYXRhXSlcblx0fSk7XG5cblx0JCgnLnJhbmdlX19zbGlkZXInKS5lYWNoKGZ1bmN0aW9uKCkge1xuXHRcdHZhciByYW5nZSA9IHRoaXMsXG5cdFx0XHRcdG1pbklucHV0ID0gJChyYW5nZSkuY2xvc2VzdCgnLnJhbmdlJykuZmluZCgnW2RhdGEtaW5wdXQ9XCJtaW5cIl0nKSxcblx0XHRcdFx0bWF4SW5wdXQgPSAkKHJhbmdlKS5jbG9zZXN0KCcucmFuZ2UnKS5maW5kKCdbZGF0YS1pbnB1dD1cIm1heFwiXScpO1xuXG5cdFx0ZnVuY3Rpb24gdXBkYXRlKCkge1xuXHRcdFx0dmFyIGZyb20gPSAkKHJhbmdlKS5kYXRhKCdmcm9tJyksXG5cdFx0XHRcdFx0dG8gPSAkKHJhbmdlKS5kYXRhKCd0bycpO1xuXG5cdFx0XHQkKG1pbklucHV0KS52YWwoZnJvbSk7XG5cdFx0XHQkKG1heElucHV0KS52YWwodG8pO1xuXHRcdH1cblxuXHRcdCQocmFuZ2UpLmlvblJhbmdlU2xpZGVyKHtcblx0XHRcdGV4dHJhX2NsYXNzZXM6ICdyYW5nZV9fc2xpZGVyJyxcblx0XHRcdGhpZGVfbWluX21heDogdHJ1ZSxcblx0XHRcdGhpZGVfZnJvbV90bzogdHJ1ZSxcblx0XHR9KTtcblxuXHRcdHVwZGF0ZSgpO1xuXHRcdCQocmFuZ2UpLm9uKCdjaGFuZ2UnLCB1cGRhdGUpO1xuXHR9KTtcblxuXHQkKCdbZGF0YS1pbnB1dF0nKS5vbignY2hhbmdlJywgZnVuY3Rpb24oKSB7XG5cdFx0dmFyIHJhbmdlID0gJCh0aGlzKS5jbG9zZXN0KCcucmFuZ2UnKS5maW5kKCdpbnB1dC5yYW5nZV9fc2xpZGVyJykuZGF0YShcImlvblJhbmdlU2xpZGVyXCIpLFxuXHRcdFx0XHR2YWwgPSAkKHRoaXMpLnZhbCgpLFxuXHRcdFx0XHRtaW4gPSByYW5nZS5vcHRpb25zLm1pbixcblx0XHRcdFx0bWF4ID0gcmFuZ2Uub3B0aW9ucy5tYXgsXG5cdFx0XHRcdGZyb20gPSByYW5nZS5vcHRpb25zLmZyb20sXG5cdFx0XHRcdHRvID0gcmFuZ2Uub3B0aW9ucy50byxcblx0XHRcdFx0c3RlcCA9IHJhbmdlLm9wdGlvbnMuc3RlcDtcblxuXHRcdHN3aXRjaCAoJCh0aGlzKS5kYXRhKCdpbnB1dCcpKSB7XG5cdFx0XHRjYXNlICdtaW4nOlxuXHRcdFx0XHRpZiAodmFsIDw9IG1pbikge1xuXHRcdFx0XHRcdHZhbCA9IG1pbjtcblx0XHRcdFx0fSBlbHNlIGlmICh2YWwgPj0gbWF4KSB7XG5cdFx0XHRcdFx0dmFsID0gbWF4IC0gc3RlcDtcblx0XHRcdFx0fSBlbHNlIGlmICh2YWwgPj0gdG8pIHtcblx0XHRcdFx0XHR2YWwgPSB0byAtIHN0ZXA7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyYW5nZS51cGRhdGUoe1xuXHRcdFx0XHRcdGZyb206IHZhbFxuXHRcdFx0XHR9KTtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHRjYXNlICdtYXgnOlxuXHRcdFx0XHRpZiAodmFsID49IG1heCkge1xuXHRcdFx0XHRcdHZhbCA9IG1heDtcblx0XHRcdFx0fSBlbHNlIGlmICh2YWwgPD0gbWluKSB7XG5cdFx0XHRcdFx0dmFsID0gbWluICsgc3RlcDtcblx0XHRcdFx0fSBlbHNlIGlmICh2YWwgPD0gZnJvbSkge1xuXHRcdFx0XHRcdHZhbCA9IGZyb20gKyBzdGVwO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0cmFuZ2UudXBkYXRlKHtcblx0XHRcdFx0XHR0bzogdmFsXG5cdFx0XHRcdH0pO1xuXHRcdFx0XHRicmVhaztcblx0XHR9XG5cblx0XHQkKHRoaXMpLnZhbCh2YWwpO1xuXG5cdH0pO1xuXG5cdC8vIGZpZWxkc1xuXHRmdW5jdGlvbiBmaWxsZWQoZmllbGQpIHtcblx0XHR2YXIgdmFsID0gJChmaWVsZCkudmFsKCkudHJpbSgpO1xuXG5cdFx0aWYgKHZhbC5sZW5ndGggPiAwKSB7XG5cdFx0XHQkKGZpZWxkKS5jbG9zZXN0KCcuZmllbGQnKS5hZGRDbGFzcygnZmllbGRfZmlsbGVkJyk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdCQoZmllbGQpLmNsb3Nlc3QoJy5maWVsZCcpLnJlbW92ZUNsYXNzKCdmaWVsZF9maWxsZWQnKTtcblx0XHR9XG5cdH1cblxuXHQkKCcuZmllbGQgaW5wdXQsIC5maWVsZCB0ZXh0YXJlYScpLmVhY2goZnVuY3Rpb24oKSB7XG5cdFx0ZmlsbGVkKHRoaXMpO1xuXHR9KTtcblxuXHQkKGRvY3VtZW50KS5vbigna2V5ZG93bicsICcuZmllbGQgaW5wdXQsIC5maWVsZCB0ZXh0YXJlYScsIGZ1bmN0aW9uKCkge1xuXHRcdHZhciB0ID0gdGhpcztcblx0XHRzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuXHRcdFx0ZmlsbGVkKHQpO1xuXHRcdH0sIDEwMClcblx0fSk7XG5cblxuXHQkKCcudG9nZ2xlJykub24oJ2NsaWNrJywgZnVuY3Rpb24oZSkge1xuXHRcdGUuc3RvcFByb3BhZ2F0aW9uKClcblx0XHR2YXIgY29udGVudCA9ICQodGhpcykucGFyZW50KCkuZmluZCgkKCcuJyskKHRoaXMpLmRhdGEoJ3RvZ2dsZScpKSk7XG5cdFx0JCh0aGlzKS50b2dnbGVDbGFzcygndG9nZ2xlX2Nsb3NlJyk7XG5cdFx0JChjb250ZW50KS5zdG9wKCkuc2xpZGVUb2dnbGUoMzAwKTtcblx0fSk7XG5cblx0JCgnLmZpbHRlcl9fYmxvY2stY29udGVudCcpLmVhY2goZnVuY3Rpb24oaSwgYmxvY2spIHtcblx0XHR2YXIgY2hlY2tzID0gJChibG9jaykuZmluZCgnLmNoZWNrYm94JykubGVuZ3RoO1xuXG5cdFx0aWYgKGNoZWNrcyA+IDUpIHtcblx0XHRcdCQoYmxvY2spLmFkZENsYXNzKCdmaWx0ZXJfX2Jsb2NrLWNvbnRlbnRfbW9yZScpO1xuXHRcdFx0JChibG9jaykuYXBwZW5kKCc8c3BhbiBjbGFzcz1cImZpbHRlcl9fYmxvY2stbW9yZVwiPtCf0L7QutCw0LfQsNGC0Ywg0LLRgdC1PC9zcGFuPicpO1xuXHRcdH1cblx0fSk7XG5cblx0JCgnLmZpbHRlcl9fYmxvY2stbW9yZScpLm9uKCdjbGljaycsIGZ1bmN0aW9uKCkge1xuXHRcdCQodGhpcykucGFyZW50KCkucmVtb3ZlQ2xhc3MoJ2ZpbHRlcl9fYmxvY2stY29udGVudF9tb3JlJyk7XG5cdFx0JCh0aGlzKS5yZW1vdmUoKTtcblx0fSk7XG5cblx0JCgnLmRyb3BfX2l0ZW0nKS5vbignY2xpY2snLCBmdW5jdGlvbigpIHtcblx0XHRpZiAoISQodGhpcykuaGFzQ2xhc3MoJ2Ryb3BfX2l0ZW1fbGluaycpKSB7XG5cdFx0XHQkKHRoaXMpLmFkZENsYXNzKCdkcm9wX19pdGVtX2FjdGl2ZScpLnNpYmxpbmdzKCkucmVtb3ZlQ2xhc3MoJ2Ryb3BfX2l0ZW1fYWN0aXZlJyk7XG5cdFx0fVxuXG5cdFx0JCh0aGlzKS5jbG9zZXN0KCdbZGF0YS1kcm9wXScpLnJlbW92ZUNsYXNzKCdkcm9wLW9wZW4nKTtcblx0fSk7XG5cblx0JChkb2N1bWVudCkub24oJ2NsaWNrJywgJ1tkYXRhLWRyb3BdJywgZnVuY3Rpb24oKSB7XG5cblx0XHR2YXIgZGF0YSA9ICQodGhpcykuZGF0YSgnZHJvcCcpO1xuXG5cdFx0aWYgKGRhdGEgPT0gJ3RyaWdnZXInKSB7XG5cdFx0XHQkKCcuZHJvcC1vcGVuJykucmVtb3ZlQ2xhc3MoJ2Ryb3Atb3BlbicpO1xuXHRcdFx0JCh0aGlzKS5wYXJlbnQoKS5jbG9zZXN0KCdbZGF0YS1kcm9wXScpLmFkZENsYXNzKCdkcm9wLW9wZW4nKTtcblx0XHR9IGVsc2UgcmV0dXJuO1xuXG5cdH0pO1xuXG5cdCQoZG9jdW1lbnQpLm9uKCdjbGljaycsIGZ1bmN0aW9uKGUpIHtcblxuXHRcdHZhciBkcm9wID0gJChlLnRhcmdldCkucGFyZW50KCkuY2xvc2VzdCgnW2RhdGEtZHJvcF0nKS5nZXQoMCksXG5cdFx0XHRcdHRpcCA9ICQoZS50YXJnZXQpLnBhcmVudCgpLmNsb3Nlc3QoJy50aXAnKS5nZXQoMCk7XG5cblx0XHRpZiAoJChlLnRhcmdldCkuaGFzQ2xhc3MoJ2NvdW50ZXJfX2J0bl9wbHVzJykpIHJldHVybjtcblxuXHRcdGlmICghZHJvcCkge1xuXHRcdFx0JCgnLmRyb3Atb3BlbicpLnJlbW92ZUNsYXNzKCdkcm9wLW9wZW4nKTtcblx0XHR9XG5cblx0XHRpZiAoIXRpcCkge1xuXHRcdFx0JCgnLnRpcF9faGlkZWNvbnRlbnQnKS5oaWRlKCk7XG5cdFx0XHQkKCcuY29udGFpbmVyX19tYWluJykuY3NzKCd6LWluZGV4JywgJycpO1xuXHRcdH1cblxuXHR9KVxuXG5cdCQoJy5kZXNjcmlwdGlvbl9fc2hvdycpLm9uKCdjbGljaycsIGZ1bmN0aW9uKCkge1xuXHRcdCQodGhpcykuaGlkZSgpO1xuXHRcdCQoJy5kZXNjcmlwdGlvbl9fc2hvcnQnKS5oaWRlKCk7XG5cdFx0JCgnLmRlc2NyaXB0aW9uX19hbGwnKS5zaG93KCk7XG5cdH0pO1xuXG5cdCQoJ1tkYXRhLWNsb3NlXScpLm9uKCdjbGljaycsIGZ1bmN0aW9uKGUpIHtcblx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cblx0XHQkKHRoaXMpLnBhcmVudCgpLmhpZGUoKTtcblx0XHQkKHRoaXMpLmNsb3Nlc3QoJy5jYXJkJykuY3NzKCd6LWluZGV4JywgJycpO1xuXHR9KTtcblxuXHQkKCcudGlwX19uYW1lJykub24oJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG5cdFx0JCgnLnRpcCcpLmNzcygnei1pbmRleCcsICcnKTtcblx0XHQkKCcuY29udGFpbmVyX19tYWluJykuY3NzKCd6LWluZGV4JywgJzMnKTtcblx0XHQkKCcuY2FyZCcpLmNzcygnei1pbmRleCcsICcnKTtcblx0XHQkKCcudGlwX19oaWRlY29udGVudCcpLmhpZGUoKTtcblx0XHQkKHRoaXMpLnBhcmVudCgpLmZpbmQoJy50aXBfX2hpZGVjb250ZW50Jykuc2hvdygpO1xuXHRcdCQodGhpcykuY2xvc2VzdCgnLmNhcmQnKS5jc3MoJ3otaW5kZXgnLCAnMicpO1xuXHRcdCQodGhpcykuY2xvc2VzdCgnLnRpcCcpLmNzcygnei1pbmRleCcsICc5Jyk7XG5cdH0pO1xuXG5cdCQoJy50aXBfaG92ZXInKS5ob3ZlcihmdW5jdGlvbigpIHtcblx0XHQkKHRoaXMpLmZpbmQoJy50aXBfX2hpZGVjb250ZW50Jykuc2hvdygpO1xuXHR9LCBmdW5jdGlvbigpIHtcblx0XHQkKCcudGlwX19oaWRlY29udGVudCcpLmhpZGUoKTtcblx0fSk7XG5cblx0Ly8gR2FsbGVyeVxuXHR2YXIgZ0lkID0gMDtcblxuXHQkKCcuZ2FsbGVyeV9fZWxlbWVudCcpLm9uKCdjbGljaycsIGZ1bmN0aW9uKCkge1xuXG5cdFx0aWYgKCQodGhpcykuaGFzQ2xhc3MoJ2dhbGxlcnlfX2VsZW1lbnRfdmlkZW8nKSkge1xuXHRcdFx0dmFyIHZpZGVvID0gJCh0aGlzKS5maW5kKCd2aWRlbycpLmNsb25lKCk7XG5cblx0XHRcdCQoJy5tb2RhbF96b29tIC5tb2RhbF9fY29udGVudCcpLmh0bWwodmlkZW8pO1xuXG5cdFx0XHQkKCcubW9kYWxfem9vbScpLml6aU1vZGFsKCdvcGVuJyk7XG5cblx0XHR9XG5cdFx0Ly8gZWxzZSBpZiAoJCh0aGlzKS5oYXNDbGFzcygnZ2FsbGVyeV9fZWxlbWVudF9maWxlJykpIHtcblx0XHQvLyBcdHZhciBmaWxlID0gJCh0aGlzKS5kYXRhKCdmaWxlJyk7XG5cdFx0Ly9cblx0XHQvLyBcdHdpbmRvdy5vcGVuKGZpbGUsICdfYmxhbmsnKTtcblx0XHQvL1xuXHRcdC8vIFx0cmV0dXJuIGZhbHNlXG5cdFx0Ly8gfVxuXHRcdGVsc2Uge1xuXHRcdFx0dmFyIGltZyA9ICQodGhpcykuZmluZCgnaW1nJykuY2xvbmUoKSxcblx0XHRcdFx0XHRocmVmID0gJChpbWcpLmF0dHIoJ3NyYycpO1xuXG5cdFx0XHQkKGltZykuYXR0cih7XG5cdFx0XHRcdCdpZCc6ICd0aHVtYicrZ0lkLFxuXHRcdFx0XHQnZGF0YS1sYXJnZS1pbWctdXJsJzogaHJlZixcblx0XHRcdFx0J2RhdGEtbGFyZ2UtaW1nLXdyYXBwZXInOiAncHJldmlldydcblx0XHRcdH0pO1xuXG5cdFx0XHQkKHRoaXMpLmNsb3Nlc3QoJy5nYWxsZXJ5JykuZmluZCgnLmdhbGxlcnlfX3ZpZXcnKS5hdHRyKCdocmVmJywgaHJlZikuZW1wdHkoKS5hcHBlbmQoaW1nKTtcblxuXHRcdFx0JCh0aGlzKS5jbG9zZXN0KCcuZ2FsbGVyeV9fbGlzdCcpLmZpbmQoJy5nYWxsZXJ5X19lbGVtZW50X2FjdGl2ZScpLnJlbW92ZUNsYXNzKCdnYWxsZXJ5X19lbGVtZW50X2FjdGl2ZScpO1xuXHRcdFx0JCh0aGlzKS5hZGRDbGFzcygnZ2FsbGVyeV9fZWxlbWVudF9hY3RpdmUnKTtcblxuXHRcdFx0JCgnLmdhbGxlcnlfX3ByZXZpZXcnKS5lbXB0eSgpO1xuXHRcdFx0bS5hdHRhY2goe3RodW1iOiAnI3RodW1iJytnSWR9KTtcblxuXHRcdFx0dmFyIGNoaWxkUG9zID0gJChpbWcpLm9mZnNldCgpO1xuXHRcdFx0dmFyIHBhcmVudFBvcyA9ICQoaW1nKS5wYXJlbnQoKS5vZmZzZXQoKTtcblx0XHRcdHZhciBtYXJnaW4gPSBjaGlsZFBvcy5sZWZ0IC0gcGFyZW50UG9zLmxlZnQ7XG5cblx0XHRcdCQoaW1nKS5uZXh0KCkuY3NzKCdtYXJnaW4tbGVmdCcsIG1hcmdpbisncHgnKVxuXG5cdFx0XHRnSWQrKztcblxuXHRcdFx0JCgnLmdhbGxlcnlfX3ZpZXcgaW1nJykuaG92ZXIoZnVuY3Rpb24oKSB7XG5cdFx0XHRcdCQoJy5nYWxsZXJ5X19wcmV2aWV3JykuYWRkQ2xhc3MoJ2dhbGxlcnlfX3ByZXZpZXdfaG92ZXInKTtcblx0XHRcdH0sIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHQkKCcuZ2FsbGVyeV9fcHJldmlldycpLnJlbW92ZUNsYXNzKCdnYWxsZXJ5X19wcmV2aWV3X2hvdmVyJyk7XG5cdFx0XHR9KTtcblxuXHRcdH1cblxuXHR9KTtcblxuXHQkKCcudmxpc3RfZnVsbCcpLmVhY2goZnVuY3Rpb24oaSwgbGlzdCkge1xuXHRcdHZhciBzaG93ID0gJChsaXN0KS5kYXRhKCdzaG93JyksXG5cdFx0XHRcdGxpbmUgPSAkKGxpc3QpLmZpbmQoJy52bGlzdF9fbGluZTpub3QoLnZsaXN0X19saW5lX2hlYWQpJykuZ2V0KHNob3cpO1xuXG5cdFx0JChsaW5lKS5oaWRlKCkubmV4dEFsbCgnOm5vdCgudmxpc3RfX2xpbmVfbW9yZSknKS5oaWRlKCk7XG5cdH0pO1xuXG5cdCQoJy52bGlzdF9fbW9yZScpLm9uKCdjbGljaycsIGZ1bmN0aW9uKCkge1xuXHRcdCQodGhpcykuY2xvc2VzdCgnLnZsaXN0JykudG9nZ2xlQ2xhc3MoJ3ZsaXN0X2FsbHNob3cnKTtcblx0fSk7XG5cblx0Ly8gTW9kYWxcblxuXHRzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuXHRcdCQoJ1tkYXRhLW1vZGFsXScpLml6aU1vZGFsKHtcblx0XHRcdG9uQ2xvc2luZzogZnVuY3Rpb24ocil7XG5cdFx0XHRcdHZhciB2aWRlbyA9IHIuJGVsZW1lbnQuZmluZCgndmlkZW8nKS5nZXQoMCk7XG5cblx0XHRcdFx0aWYgKHZpZGVvKSB7XG5cdFx0XHRcdFx0dmlkZW8ucGF1c2UoKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0pO1xuXHR9LCAxKVxuXG5cblx0JCgnW2RhdGEtb3Blbl0nKS5vbignY2xpY2snLCBmdW5jdGlvbihlKSB7XG5cdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG5cdFx0dmFyIG0gPSAkKHRoaXMpLmRhdGEoJ29wZW4nKTtcblx0XHQkKCdbZGF0YS1tb2RhbD0nK20rJ10nKS5pemlNb2RhbCgnb3BlbicpO1xuXHR9KTtcblxuXG5cdCQoJy5nYWxsZXJ5X192aWV3LCAuc2hvcF9fc2xpZGUnKS5vbignY2xpY2snLCBmdW5jdGlvbihlKSB7XG5cdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG5cdFx0dmFyIGltZyA9ICQodGhpcykuZmluZCgnaW1nJykuY2xvbmUoKTtcblxuXHRcdCQoJy5tb2RhbF96b29tIC5tb2RhbF9fY29udGVudCcpLmh0bWwoaW1nKVxuXG5cdFx0JCgnLm1vZGFsX3pvb20nKS5pemlNb2RhbCgnb3BlbicpO1xuXHR9KTtcblxuXG5cdCQoJy5maWx0ZXItdG9nZ2xlJykub24oJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG5cdFx0JCgnLmZpbHRlciAudG9nZ2xlOm5vdCgudG9nZ2xlX2Nsb3NlKScpLnRyaWdnZXIoJ2NsaWNrJyk7XG5cdFx0JCgnLmZpbHRlcicpLnRvZ2dsZSgpO1xuXHR9KTtcblxuXHQkKCcubS1tZW51X190b2dnbGUnKS5vbignY2xpY2snLCBmdW5jdGlvbigpIHtcblx0XHRpZiAoISQoJy5wYWdlJykuaGFzQ2xhc3MoJ3BhZ2VfZnJlZXplJykpIHtcblx0XHRcdGNvbnN0IGggPSAkKCcubS1tZW51X19jb250ZW50JykuaGVpZ2h0KCk7XG5cdFx0XHQkKCcucGFnZScpLmFkZENsYXNzKCdwYWdlX2ZyZWV6ZScpLmNzcygnaGVpZ2h0JywgaCsncHgnKTtcblx0XHRcdCQoJ2h0bWwsYm9keScpLmNzcygnb3ZlcmZsb3cteCcsICdoaWRkZW4nKTtcblxuXHRcdH0gZWxzZSB7XG5cdFx0XHQkKCcucGFnZScpLnJlbW92ZUNsYXNzKCdwYWdlX2ZyZWV6ZScpLmNzcygnaGVpZ2h0JywgJycpO1xuXHRcdFx0JCgnaHRtbCxib2R5JykuY3NzKCdvdmVyZmxvdycsICcnKTtcblx0XHR9O1xuXG5cdFx0JCh3aW5kb3cpLnNjcm9sbFRvcCgwKTtcblxuXHRcdCQoJy5tLW1lbnVfX2NvbnRlbnQnKS50b2dnbGUoKTtcblx0fSk7XG5cblx0JCgnLm0tbWVudV9faXRlbV9kcm9wJykub24oJ2NsaWNrJywgZnVuY3Rpb24oZSkge1xuXHRcdGUuc3RvcFByb3BhZ2F0aW9uKCk7XG5cblx0XHR2YXIgZHJvcCA9ICQodGhpcykuZmluZCgnLm0tbWVudV9fZHJvcCcpLmZpcnN0KCksXG5cdFx0XHRcdGNhdGFsb2cgPSBCb29sZWFuKCQodGhpcykuY2xvc2VzdCgnLm0tbWVudV9fZHJvcF9jYXRhbG9nJykuZ2V0KDApKSB8fCBCb29sZWFuKCQodGhpcykuZmluZCgnLm0tbWVudV9fZHJvcF9jYXRhbG9nJykuZ2V0KDApKTtcblxuXHRcdGlmICgkKGUudGFyZ2V0KS5wYXJlbnRzVW50aWwoJy5tLW1lbnVfX2l0ZW1fZHJvcCcpLmxlbmd0aCA8PSAxKSB7XG5cdFx0XHQkKGRyb3ApLnRvZ2dsZUNsYXNzKCdtLW1lbnVfX2Ryb3Bfc2hvdycpO1xuXG5cdFx0XHRpZiAoIWNhdGFsb2cpIHtcblx0XHRcdFx0Y29uc3QgaCA9ICQoJy5tLW1lbnVfX2NvbnRlbnQnKS5oZWlnaHQoKTtcblx0XHRcdFx0JCgnLnBhZ2UnKS5jc3MoJ2hlaWdodCcsIGgpO1xuXHRcdFx0XHRyZXR1cm5cblx0XHRcdH1cblxuXHRcdFx0aWYgKCQoZHJvcCkuaGFzQ2xhc3MoJ20tbWVudV9fZHJvcF9zaG93JykpIHtcblx0XHRcdFx0Y29uc3QgaCA9ICQoZHJvcCkuZmluZCgnLm0tbWVudV9fbGlzdCcpLmZpcnN0KCkuaGVpZ2h0KCk7XG5cdFx0XHRcdCQoJy5wYWdlJykuY3NzKCdoZWlnaHQnLCBoKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGNvbnN0IGggPSAkKHRoaXMpLmNsb3Nlc3QoJy5tLW1lbnVfX2xpc3QnKS5oZWlnaHQoKTtcblx0XHRcdFx0JCgnLnBhZ2UnKS5jc3MoJ2hlaWdodCcsIGgpO1xuXG5cdFx0XHR9XG5cdFx0fVxuXG5cdH0pO1xuXG5cdCQoJy5tLW1lbnVfX2JhY2snKS5vbignY2xpY2snLCBmdW5jdGlvbihlKSB7XG5cdFx0ZS5zdG9wUHJvcGFnYXRpb24oKTtcblxuXHRcdCQodGhpcykuY2xvc2VzdCgnLm0tbWVudV9fZHJvcF9zaG93JykucmVtb3ZlQ2xhc3MoJ20tbWVudV9fZHJvcF9zaG93Jyk7XG5cblx0XHRjb25zdCBoID0gJCgnLm0tbWVudV9fY29udGVudCcpLmhlaWdodCgpO1xuXHRcdCQoJy5wYWdlJykuY3NzKCdoZWlnaHQnLCBoKTtcblx0XHRyZXR1cm5cblx0fSk7XG5cblx0JCgnW2RhdGEtdGFic10gPiAqJykub24oJ2NsaWNrJywgZnVuY3Rpb24oZSkge1xuXHRcdGUucHJldmVudERlZmF1bHQoKTtcblxuXHRcdHZhciBkYXRhID0gJCh0aGlzKS5wYXJlbnQoKS5kYXRhKCd0YWJzJyksXG5cdFx0XHRcdGluZGV4ID0gJCh0aGlzKS5pbmRleCgpLFxuXHRcdFx0XHRjb250ZW50ID0gJCgnW2RhdGEtdGFicy1jb250ZW50PScrZGF0YSsnXScpLmNoaWxkcmVuKCkuZ2V0KGluZGV4KTtcblxuXHRcdCQoY29udGVudCkuc2hvdygpLnNpYmxpbmdzKCkuaGlkZSgpO1xuXG5cdFx0aWYgKCFjb250ZW50KSB7XG5cdFx0XHQkKCdbZGF0YS10YWJzLWNvbnRlbnQ9JytkYXRhKyddJykuY2hpbGRyZW4oKS5oaWRlKCk7XG5cdFx0fVxuXG5cdFx0JCh0aGlzKS5hZGRDbGFzcygnYWN0aXZlJykuc2libGluZ3MoKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XG5cdH0pO1xuXG5cdCQoJy52aWRlbycpLm9uKCdjbGljaycsIGZ1bmN0aW9uKCkge1xuXHRcdHZhciBpZCA9ICQodGhpcykuZGF0YSgnaWQnKTtcblxuXHRcdCQoJyMnK2lkKS5pemlNb2RhbCgnb3BlbicpO1xuXHR9KTtcblxuXHQkKCcuY2hlY2tib3ggaW5wdXQnKS5vbignY2xpY2snLCBmdW5jdGlvbihlKSB7XG5cdFx0ZS5zdG9wUHJvcGFnYXRpb24oKTtcblxuXHRcdCQodGhpcykuY2xvc2VzdCgnLmNoZWNrYm94JykudG9nZ2xlQ2xhc3MoJ2NoZWNrYm94X2FjdGl2ZScpO1xuXHR9KTtcblxuXHR2YXIgc2Nyb2xsaW5nLFxuXHRcdFx0dG9Ub3AgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudG8tdG9wJyk7XG5cblx0ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgZnVuY3Rpb24oZSkge1xuXHRcdCBzY3JvbGxpbmcgPSAod2luZG93LnBhZ2VZT2Zmc2V0IHx8IGRvY3VtZW50LmJvZHkuc2Nyb2xsVG9wKSAgLSAoZG9jdW1lbnQuYm9keS5jbGllbnRUb3AgfHwgMCk7XG5cblx0XHQgaWYgKCQoZS50YXJnZXQpLmNsb3Nlc3QoJy5yZXN1bHRzJykuZ2V0KDApKSByZXR1cm47XG5cblx0XHQgaWYgKCQod2luZG93KS53aWR0aCgpID4gOTYwKSB7XG5cdFx0XHQgaWYgKHNjcm9sbGluZyA+PSAyMDApIHtcblx0XHRcdFx0ICQoJy5oZWFkZXJfX2ZpeCcpLmFkZENsYXNzKCdoZWFkZXJfX2ZpeF9zaG93Jyk7XG5cdFx0XHRcdCAkKCcucmVzdWx0cycpLmFwcGVuZFRvKCcuaGVhZGVyX19maXggLnNlYXJjaCcpO1xuXHRcdFx0IH0gZWxzZSBpZiAoJCgnLmhlYWRlcl9fZml4JykuaGFzQ2xhc3MoJ2hlYWRlcl9fZml4X3Nob3cnKSkge1xuXHRcdFx0XHQgJCgnLmhlYWRlcl9fZml4JykucmVtb3ZlQ2xhc3MoJ2hlYWRlcl9fZml4X3Nob3cnKTtcblx0XHRcdFx0ICQoJy5yZXN1bHRzJykuYXBwZW5kVG8oJy5oZWFkZXJfX2JvZHkgLnNlYXJjaCcpO1xuXHRcdFx0IH1cblx0XHQgfSBlbHNlIHtcblx0XHRcdCBpZiAoc2Nyb2xsaW5nID49IDMxICYmICEkKCcucGFnZScpLmhhc0NsYXNzKCdwYWdlX2ZyZWV6ZScpKSB7XG5cdFx0XHRcdCAkKCcuaGVhZGVyX19tb2JpbGUnKS5hZGRDbGFzcygnaGVhZGVyX19tb2JpbGVfZml4Jyk7XG5cdFx0XHQgfSBlbHNlIGlmICgkKCcuaGVhZGVyX19tb2JpbGUnKS5oYXNDbGFzcygnaGVhZGVyX19tb2JpbGVfZml4JykpIHtcblx0XHRcdFx0ICQoJy5oZWFkZXJfX21vYmlsZScpLnJlbW92ZUNsYXNzKCdoZWFkZXJfX21vYmlsZV9maXgnKTtcblx0XHRcdCB9XG5cblx0XHQgfVxuXG5cdFx0IGlmIChzY3JvbGxpbmcgPj0gMTAwMCAmJiB3aW5kb3dXaWR0aCA+IDk2MCkge1xuXHRcdFx0IHRvVG9wLmNsYXNzTGlzdC5hZGQoJ3RvLXRvcF9zaG93Jyk7XG5cdFx0IH0gZWxzZSB7XG5cdFx0XHQgdG9Ub3AuY2xhc3NMaXN0LnJlbW92ZSgndG8tdG9wX3Nob3cnKTtcblx0XHQgfVxuXHR9LCB0cnVlKTtcblxuXHQkKCcudG8tdG9wJykub24oJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG5cdFx0JChcImh0bWwsIGJvZHlcIikuc3RvcCgpLmFuaW1hdGUoe3Njcm9sbFRvcDowfSwgNTAwLCAnc3dpbmcnKTtcblx0fSk7XG5cblx0JCgnLmNvdW50ZXJfX2J0bl9wbHVzJykub24oJ2NsaWNrJywgZnVuY3Rpb24oZSkge1xuXHRcdGUucHJldmVudERlZmF1bHQoKTtcblxuXHRcdCQoJy5jYXJkJykuY3NzKCd6LWluZGV4JywgJycpO1xuXG5cdFx0JCgnLnRpcF9faGlkZWNvbnRlbnQnKS5oaWRlKCk7XG5cdFx0JCgnLnRpcCcpLmNzcygnei1pbmRleCcsICcnKTtcblx0XHQkKHRoaXMpLnBhcmVudCgpLmZpbmQoJy50aXBfX2hpZGVjb250ZW50JykuZmlyc3QoKS5zaG93KCk7XG5cdFx0JCh0aGlzKS5jbG9zZXN0KCcuY2FyZCcpLmNzcygnei1pbmRleCcsICc1Jyk7XG5cdFx0JCh0aGlzKS5wYXJlbnQoKS5maW5kKCcudGlwJykuY3NzKCd6LWluZGV4JywgJzknKTtcblxuXHRcdGlmICgkKCcuY29udGFpbmVyX19zaWRlJykuZ2V0KDApKSB7XG5cdFx0XHQkKCcuY29udGFpbmVyX19tYWluJykuY3NzKCd6LWluZGV4JywgJzMnKTtcblx0XHR9XG5cdH0pO1xuXG5cdC8vIHNlYXJjaFxuXHQkKCcuc2VhcmNoX19maWVsZCBpbnB1dCcpLm9uKCdjbGljaycsIGZ1bmN0aW9uKCkge1xuXHRcdCQodGhpcykuY2xvc2VzdCgnLnNlYXJjaCcpLmFkZENsYXNzKCdzZWFyY2hfZm9jdXMnKTtcblx0XHQkKCcucGFnZScpLmFwcGVuZCgnPGRpdiBjbGFzcz1cImZhZGUtYmdcIj48L2Rpdj4nKTtcblx0fSk7XG5cblx0JChkb2N1bWVudCkub24oJ2NsaWNrJywgJy5mYWRlLWJnJywgZnVuY3Rpb24oZSkge1xuXHRcdCQoJy5zZWFyY2gnKS5yZW1vdmVDbGFzcygnc2VhcmNoX2ZvY3VzJyk7XG5cdFx0JCh0aGlzKS5yZW1vdmUoKVxuXHR9KTtcblxuXHQkKCdidXR0b24uYnRuLCAuY291bnRlcl9fYnRuLCAuY2xvc2UnKS5vbignY2xpY2snLCBmdW5jdGlvbihlKSB7XG5cdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHR9KVxuXG5cdCQoJ2FbaHJlZl49XCIjXCJdJykub24oJ2NsaWNrJywgZnVuY3Rpb24oZSkge1xuXHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0XHR2YXIgaWQgPSAkKHRoaXMpLmF0dHIoJ2hyZWYnKTtcblxuICAgICQoJ2h0bWwsIGJvZHknKS5hbmltYXRlKHtcbiAgICAgICAgc2Nyb2xsVG9wOiAkKGlkKS5vZmZzZXQoKS50b3AgKyAkKCdib2R5Jykuc2Nyb2xsVG9wKCkgLSA4MFxuICAgIH0sIDEwMDApO1xuXG5cdH0pO1xuXG5cdCQoJy5kcm9wIC5jbG9zZScpLm9uKCdjbGljaycsIGZ1bmN0aW9uKGUpIHtcblx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdFx0ZS5zdG9wUHJvcGFnYXRpb24oKTtcblxuXHRcdCQodGhpcykuY2xvc2VzdCgnLmRyb3Atb3BlbicpLnJlbW92ZUNsYXNzKCdkcm9wLW9wZW4nKTtcblx0fSlcblxuXHR2YXIgaGVpZ2h0Qm90dG9tU2Nyb2xsID0gMDtcblxuXHQkKCcucGFnZV9fY29udGVudCcpLm5leHRBbGwoKS5lYWNoKGZ1bmN0aW9uKGksIGVsKSB7XG5cdFx0aGVpZ2h0Qm90dG9tU2Nyb2xsICs9ICQoZWwpLmhlaWdodCgpO1xuXHR9KTtcblxuXHQvLyBuYXYgaW5kZXggYWRhcHRpdmUgbWVudSBwYWdlXG5cblx0JCgnLmNhdGFsb2ctbmF2X19pdGVtJykub24oJ2NsaWNrJywgZnVuY3Rpb24oZSkge1xuXHRcdGlmICh3aW5kb3dXaWR0aCA8PSA5NjApIHtcblxuXHRcdFx0dmFyIHQgPSAkKGUudGFyZ2V0KS5wYXJlbnQoKVswXTtcblxuXHRcdFx0aWYgKCEkKHQpLmhhc0NsYXNzKCdkcm9wLW5hdl9faXRlbScpKVx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG5cdFx0XHRjb25zdCBkcm9wID0gJChlLnRhcmdldCkuY2xvc2VzdCgnbGknKS5maW5kKCcuZHJvcC1uYXYnKVswXTtcblxuXHRcdFx0aWYgKGRyb3ApIHtcblx0XHRcdFx0aWYgKCQoZHJvcCkuaGFzQ2xhc3MoJ2Ryb3AtbmF2X3Nob3cnKSkge1xuXHRcdFx0XHRcdCQoZHJvcCkucmVtb3ZlQ2xhc3MoJ2Ryb3AtbmF2X3Nob3cnKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHQkKGRyb3ApLmFkZENsYXNzKCdkcm9wLW5hdl9zaG93Jyk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdH0pO1xuXG5cdCQoJy5kcm9wLW5hdl9faXRlbV9ncm91cCcpLm9uKCdjbGljaycsIGZ1bmN0aW9uKGUpIHtcblx0XHRpZiAod2luZG93V2lkdGggPD0gOTYwKSB7XG5cdFx0XHRjb25zdCBzaG93aW5nID0gJCh0aGlzKS5wYXJlbnQoKS5oYXNDbGFzcygnZHJvcC1uYXZfX2xpc3Rfc2hvdycpXG5cblx0XHRcdGlmIChzaG93aW5nKSB7XG5cdFx0XHRcdCQodGhpcykucGFyZW50KCkucmVtb3ZlQ2xhc3MoJ2Ryb3AtbmF2X19saXN0X3Nob3cnKVxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFx0XHQkKCcuZHJvcC1uYXZfX2xpc3Rfc2hvdycpLnJlbW92ZUNsYXNzKCdkcm9wLW5hdl9fbGlzdF9zaG93Jylcblx0XHRcdFx0JCh0aGlzKS5wYXJlbnQoKS5hZGRDbGFzcygnZHJvcC1uYXZfX2xpc3Rfc2hvdycpXG5cdFx0XHR9XG5cdFx0fVxuXHR9KTtcblxuXHQvLyBzdGlja3kgY2FydCBzaWRlXG5cblx0ZnVuY3Rpb24gc3RpY2t5U2lkZSgpIHtcblx0XHQkKCcuY29udGFpbmVyX19zaWRlLXNjcm9sbCcpLnN0aWNreSh7XG5cdFx0XHR0b3BTcGFjaW5nOiA4MCxcblx0XHRcdGJvdHRvbVNwYWNpbmc6ICQoJy5mb290ZXInKS5oZWlnaHQoKSArICQoJy5jb250YWluZXJfX3NpZGUtc2Nyb2xsJykub2Zmc2V0KCkudG9wXG5cdFx0fSk7XG5cdH1cblxuXHRpZiAod2luZG93V2lkdGggPiA5NjAgJiYgJCgnLmNvbnRhaW5lcl9fc2lkZS1zY3JvbGwnKS5nZXQoMCkpIHN0aWNreVNpZGUoKTtcblxuXHQkKCcuZGVzY3JpcHRpb24nKS5lYWNoKGZ1bmN0aW9uKGksIGJsb2NrKSB7XG5cdFx0dmFyIHNob3J0ID0gJChibG9jaykuZmluZCgnLmRlc2NyaXB0aW9uX19zaG9ydCcpO1xuXHRcdGlmICgkKHNob3J0KS5oZWlnaHQoKSA+PSAxMDApIHtcblx0XHRcdCQoc2hvcnQpLmFkZENsYXNzKCdkZXNjcmlwdGlvbl9fc2hvcnRfZ3JhZGllbnQnKTtcblx0XHR9XG5cdH0pXG5cblx0aW5pdCgpO1xuXG5cbn0pKHdpbmRvdyk7XG4iXX0=
